(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},fl={};var v_;function lA(){if(v_)return fl;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var E_;function uA(){return E_||(E_=1,Sd.exports=lA()),Sd.exports}var nt=uA(),Ad={exports:{}},vt={};var T_;function cA(){if(T_)return vt;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),U=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ft(O,Q,tt){this.props=O,this.context=Q,this.refs=Z,this.updater=tt||$}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function it(O,Q,tt){this.props=O,this.context=Q,this.refs=Z,this.updater=tt||$}var Pt=it.prototype=new _t;Pt.constructor=it,et(Pt,ft.prototype),Pt.isPureReactComponent=!0;var kt=Array.isArray;function Vt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Q,tt){var rt=tt.ref;return{$$typeof:r,type:O,key:Q,ref:rt!==void 0?rt:null,props:tt}}function V(O,Q){return I(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Q[tt]})}var R=/\/+/g;function ie(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Q.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Vt,Vt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,tt,rt,pt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(At){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case S:return Ut=O._init,H(Ut(O._payload),Q,tt,rt,pt)}}if(Ut)return pt=pt(O),Ut=rt===""?"."+ie(O,0):rt,kt(pt)?(tt="",Ut!=null&&(tt=Ut.replace(R,"$&/")+"/"),H(pt,Q,tt,"",function(tr){return tr})):pt!=null&&(N(pt)&&(pt=V(pt,tt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Ut)),Q.push(pt)),1;Ut=0;var Ce=rt===""?".":rt+":";if(kt(O))for(var se=0;se<O.length;se++)rt=O[se],At=Ce+ie(rt,se),Ut+=H(rt,Q,tt,At,pt);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(rt=O.next()).done;)rt=rt.value,At=Ce+ie(rt,se++),Ut+=H(rt,Q,tt,At,pt);else if(At==="object"){if(typeof O.then=="function")return H(Ie(O),Q,tt,rt,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(O,Q,tt){if(O==null)return O;var rt=[],pt=0;return H(O,rt,"","",function(At){return Q.call(tt,At,pt++)}),rt}function ct(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:W,forEach:function(O,Q,tt){W(O,function(){Q.apply(this,arguments)},tt)},count:function(O){var Q=0;return W(O,function(){Q++}),Q},toArray:function(O){return W(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=A,vt.Children=Gt,vt.Component=ft,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=it,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=et({},O.props),pt=O.key;if(Q!=null)for(At in Q.key!==void 0&&(pt=""+Q.key),Q)!b.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(rt[At]=Q[At]);var At=arguments.length-2;if(At===1)rt.children=tt;else if(1<At){for(var Ut=Array(At),Ce=0;Ce<At;Ce++)Ut[Ce]=arguments[Ce+2];rt.children=Ut}return I(O.type,pt,rt)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Q,tt){var rt,pt={},At=null;if(Q!=null)for(rt in Q.key!==void 0&&(At=""+Q.key),Q)b.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=Q[rt]);var Ut=arguments.length-2;if(Ut===1)pt.children=tt;else if(1<Ut){for(var Ce=Array(Ut),se=0;se<Ut;se++)Ce[se]=arguments[se+2];pt.children=Ce}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)pt[rt]===void 0&&(pt[rt]=Ut[rt]);return I(O,At,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=N,vt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},vt.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},vt.startTransition=function(O){var Q=C.T,tt={};C.T=tt;try{var rt=O(),pt=C.S;pt!==null&&pt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Vt,xt)}catch(At){xt(At)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),C.T=Q}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(O){return C.H.use(O)},vt.useActionState=function(O,Q,tt){return C.H.useActionState(O,Q,tt)},vt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},vt.useContext=function(O){return C.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},vt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},vt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(O,Q,tt){return C.H.useImperativeHandle(O,Q,tt)},vt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},vt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},vt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},vt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},vt.useReducer=function(O,Q,tt){return C.H.useReducer(O,Q,tt)},vt.useRef=function(O){return C.H.useRef(O)},vt.useState=function(O){return C.H.useState(O)},vt.useSyncExternalStore=function(O,Q,tt){return C.H.useSyncExternalStore(O,Q,tt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var S_;function fm(){return S_||(S_=1,Ad.exports=cA()),Ad.exports}var Re=fm(),bd={exports:{}},dl={},Rd={exports:{}},wd={};var A_;function hA(){return A_||(A_=1,(function(r){function t(H,W){var ct=H.length;H.push(W);t:for(;0<ct;){var xt=ct-1>>>1,Gt=H[xt];if(0<l(Gt,W))H[xt]=W,H[ct]=Gt,ct=xt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ct=H.pop();if(ct!==W){H[0]=ct;t:for(var xt=0,Gt=H.length,O=Gt>>>1;xt<O;){var Q=2*(xt+1)-1,tt=H[Q],rt=Q+1,pt=H[rt];if(0>l(tt,ct))rt<Gt&&0>l(pt,tt)?(H[xt]=pt,H[rt]=ct,xt=rt):(H[xt]=tt,H[Q]=ct,xt=Q);else if(rt<Gt&&0>l(pt,ct))H[xt]=pt,H[rt]=ct,xt=rt;else break t}}return W}function l(H,W){var ct=H.sortIndex-W.sortIndex;return ct!==0?ct:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,A=null,U=3,F=!1,$=!1,et=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=H)a(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function kt(H){if(et=!1,Pt(H),!$)if(i(y)!==null)$=!0,Vt||(Vt=!0,L());else{var W=i(_);W!==null&&Ie(kt,W.startTime-H)}}var Vt=!1,C=-1,b=5,I=-1;function V(){return Z?!0:!(r.unstable_now()-I<b)}function N(){if(Z=!1,Vt){var H=r.unstable_now();I=H;var W=!0;try{t:{$=!1,et&&(et=!1,_t(C),C=-1),F=!0;var ct=U;try{e:{for(Pt(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,U=A.priorityLevel;var Gt=xt(A.expirationTime<=H);if(H=r.unstable_now(),typeof Gt=="function"){A.callback=Gt,Pt(H),W=!0;break e}A===i(y)&&a(y),Pt(H)}else a(y);A=i(y)}if(A!==null)W=!0;else{var O=i(_);O!==null&&Ie(kt,O.startTime-H),W=!1}}break t}finally{A=null,U=ct,F=!1}W=void 0}}finally{W?L():Vt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){ft(N,0)};function Ie(H,W){C=ft(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(H){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var ct=U;U=W;try{return H()}finally{U=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=U;U=H;try{return W()}finally{U=ct}},r.unstable_scheduleCallback=function(H,W,ct){var xt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?xt+ct:xt):ct=xt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,H={id:S++,callback:W,priorityLevel:H,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>xt?(H.sortIndex=ct,t(_,H),i(y)===null&&H===i(_)&&(et?(_t(C),C=-1):et=!0,Ie(kt,ct-xt))):(H.sortIndex=Gt,t(y,H),$||F||($=!0,Vt||(Vt=!0,L()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var W=U;return function(){var ct=U;U=W;try{return H.apply(this,arguments)}finally{U=ct}}}})(wd)),wd}var b_;function fA(){return b_||(b_=1,Rd.exports=hA()),Rd.exports}var Id={exports:{}},Qe={};var R_;function dA(){if(R_)return Qe;R_=1;var r=fm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Qe.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Qe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Qe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Qe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:U,fetchPriority:F}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:U,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Qe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Qe.requestFormReset=function(y){a.d.r(y)},Qe.unstable_batchedUpdates=function(y,_){return y(_)},Qe.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var w_;function mA(){if(w_)return Id.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=dA(),Id.exports}var I_;function gA(){if(I_)return dl;I_=1;var r=fA(),t=fm(),i=mA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,U=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case kt:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case it:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},xt=[],Gt=-1;function O(e){return{current:e}}function Q(e){0>Gt||(e.current=xt[Gt],xt[Gt]=null,Gt--)}function tt(e,n){Gt++,xt[Gt]=e.current,e.current=n}var rt=O(null),pt=O(null),At=O(null),Ut=O(null);function Ce(e,n){switch(tt(At,n),tt(pt,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=Hy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),tt(rt,e)}function se(){Q(rt),Q(pt),Q(At)}function tr(e){e.memoizedState!==null&&tt(Ut,e);var n=rt.current,s=Hy(n,e.type);n!==s&&(tt(pt,e),tt(rt,s))}function Kr(e){pt.current===e&&(Q(rt),Q(pt)),Ut.current===e&&(Q(Ut),ll._currentValue=ct)}var Qr,Yr;function Jn(e){if(Qr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qr=n&&n[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+e+Yr}var oo=!1;function er(e,n){if(!e||oo)return"";oo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var z=j}Reflect.construct(e,[],K)}else{try{K.call()}catch(j){z=j}e.call(K.prototype)}}else{try{throw Error()}catch(j){z=j}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===k.length)for(o=w.length-1,h=k.length-1;1<=o&&0<=h&&w[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==k[h]){var q=`
`+w[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function lo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Jn("Activity");default:return""}}function uo(e){try{var n="",s=null;do n+=lo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,Ah=r.unstable_shouldYield,Yl=r.unstable_requestPaint,$e=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,co=r.unstable_ImmediatePriority,ho=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,bh=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,Zl=r.log,Jl=r.unstable_setDisableYieldValue,Pn=null,ke=null;function En(e){if(typeof Zl=="function"&&Jl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pn,e)}catch{}}var ce=Math.clz32?Math.clz32:Wl,$l=Math.log,Xr=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-($l(e)/Xr|0)|0}var $n=256,ir=262144,pe=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ce(s),K=1<<q;E[q]=0,w[q]=-1;var z=k[q];if(z!==null)for(k[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}s&=~K}o!==0&&rr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function fo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function mo(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:f_(e.type))}function kn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var zn=Math.random().toString(36).slice(2),ye="__reactFiber$"+zn,Me="__reactProps$"+zn,ni="__reactContainer$"+zn,Zr="__reactEvents$"+zn,Ih="__reactListeners$"+zn,nu="__reactHandles$"+zn,iu="__reactResources$"+zn,ii="__reactMarker$"+zn;function Jr(e){delete e[ye],delete e[Me],delete e[Zr],delete e[Ih],delete e[nu]}function si(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Zy(e);e!==null;){if(s=e[ye])return s;e=Zy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ri(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ii]=!0}var go=new Set,po={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(po[e]=n,e=0;e<n.length;e++)go.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function su(e){return ge.call(vo,e)?!0:ge.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function $r(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function nn(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,Ue(n)):s!=null?To(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ru(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function To(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var bo=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function ur(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Wr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":au(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var na=!1;function us(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(ls!==null||ui!==null)&&(ec(),ls&&(n=ls,e=ui,ui=ls=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{cr=!1}var ci=null,Ro=null,hr=null;function wo(){if(hr)return hr;var e,n=Ro,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Oi),cs=A({},Oi,{view:0,detail:0}),Io=ze(cs),hs,ia,fi,sa=A({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,ia=e.screenY-fi.screenY):ia=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Co=ze(sa),dr=A({},sa,{dataTransfer:0}),uu=ze(dr),cu=A({},cs,{relatedTarget:0}),mr=ze(cu),Do=A({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ze(Do),ra=A({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=ze(ra),du=A({},Oi,{data:0}),di=ze(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function fs(){return yu}var We=A({},cs,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=ze(We),vu=A({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(vu),u=A({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=ze(u),v=A({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=A({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(P),J=A({},Oi,{newState:0,oldState:0}),Tt=ze(J),he=[9,13,27,32],jt=An&&"CompositionEvent"in window,re=null;An&&"documentMode"in document&&(re=document.documentMode);var bn=An&&"TextEvent"in window&&!re,mi=An&&(!jt||re&&8<re&&11>=re),Hn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function V0(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function M0(e,n){if(oa)return e==="compositionend"||!jt&&gr(e,n)?(e=wo(),hr=Ro=ci=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!U0[e.type]:n==="textarea"}function tg(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=lc(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var No=null,Oo=null;function L0(e){Py(e,0)}function Eu(e){var n=hn(e);if(or(n))return e}function eg(e,n){if(e==="change")return n}var ng=!1;if(An){var Ch;if(An){var Dh="oninput"in document;if(!Dh){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Dh=typeof ig.oninput=="function"}Ch=Dh}else Ch=!1;ng=Ch&&(!document.documentMode||9<document.documentMode)}function sg(){No&&(No.detachEvent("onpropertychange",rg),Oo=No=null)}function rg(e){if(e.propertyName==="value"&&Eu(Oo)){var n=[];tg(n,Oo,e,Sn(e)),us(L0,n)}}function P0(e,n,s){e==="focusin"?(sg(),No=n,Oo=s,No.attachEvent("onpropertychange",rg)):e==="focusout"&&sg()}function x0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Oo)}function k0(e,n){if(e==="click")return Eu(n)}function z0(e,n){if(e==="input"||e==="change")return Eu(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:B0;function Vo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,n){var s=ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ag(s)}}function lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var j0=An&&"documentMode"in document&&11>=document.documentMode,la=null,Oh=null,Mo=null,Vh=!1;function cg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vh||la==null||la!==li(o)||(o=la,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=lc(Oh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Mh={},hg={};An&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function yr(e){if(Mh[e])return Mh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in hg)return Mh[e]=n[s];return e}var fg=yr("animationend"),dg=yr("animationiteration"),mg=yr("animationstart"),q0=yr("transitionrun"),H0=yr("transitionstart"),G0=yr("transitioncancel"),gg=yr("transitionend"),pg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Fn(e,n){pg.set(e,n),ai(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ca=0,Lh=0;function Su(){for(var e=ca,n=Lh=ca=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&yg(s,h,f)}}function Au(e,n,s,o){Rn[ca++]=e,Rn[ca++]=n,Rn[ca++]=s,Rn[ca++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return Au(e,n,s,o),bu(e)}function _r(e,n){return Au(e,null,null,n),bu(e)}function yg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<el)throw el=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function F0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new F0(e,n,s,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _g(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")xh(e)&&(g=1);else if(typeof e=="string")g=ZS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,s,n,h),e.elementType=I,e.lanes=f,e;case et:return vr(s.children,h,f,n);case Z:g=8,h|=24;break;case ft:return e=mn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case kt:return e=mn(13,s,n,h),e.elementType=kt,e.lanes=f,e;case Vt:return e=mn(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:g=10;break t;case _t:g=9;break t;case Pt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function kh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function vg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function zh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Eg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=Eg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:uo(n)},Eg.set(e,n),n)}return{value:e,source:n,stack:uo(n)}}var fa=[],da=0,wu=null,Uo=0,In=[],Cn=0,ds=null,gi=1,pi="";function Ui(e,n){fa[da++]=Uo,fa[da++]=wu,wu=e,Uo=n}function Tg(e,n,s){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=ds,ds=e;var o=gi;e=pi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-ce(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Bh(e){e.return!==null&&(Ui(e,1),Tg(e,1,0))}function jh(e){for(;e===wu;)wu=fa[--da],fa[da]=null,Uo=fa[--da],fa[da]=null;for(;e===ds;)ds=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null,gi=In[--Cn],In[Cn]=null}function Sg(e,n){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=ds,gi=n.id,pi=n.overflow,ds=e}var Be=null,Wt=null,Mt=!1,ms=null,Dn=!1,qh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(wn(n,e)),qh}function Ag(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)wt(il[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),ru(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||By(n.textContent,s)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(e,!0)}function bg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!Mt)return bg(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||od(e.type,e.memoizedProps)),s=!s),s&&Wt&&gs(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=Xy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=Xy(e)}else n===27?(n=Wt,Ds(e.type)?(e=fd,fd=null,Wt=e):Wt=n):Wt=Be?On(e.stateNode.nextSibling):null;return!0}function Er(){Wt=Be=null,Mt=!1}function Hh(){var e=ms;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ms=null),e}function Lo(e){ms===null?ms=[e]:ms.push(e)}var Gh=O(null),Tr=null,Li=null;function ps(e,n,s){tt(Gh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Gh.current,Q(Gh)}function Fh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Fh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Fh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&Kh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Tr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Rg(Tr,e)}function Cu(e,n){return Tr===null&&Sr(e),Rg(e,n)}function Rg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var K0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Q0=r.unstable_scheduleCallback,Y0=r.unstable_NormalPriority,Ee={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new K0,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&Q0(Y0,function(){e.controller.abort()})}var xo=null,Yh=0,pa=0,ya=null;function X0(e,n){if(xo===null){var s=xo=[];Yh=0,pa=$f(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Yh++,n.then(wg,wg),n}function wg(){if(--Yh===0&&xo!==null){ya!==null&&(ya.status="fulfilled");var e=xo;xo=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Z0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ig=H.S;H.S=function(e,n){cy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&X0(e,n),Ig!==null&&Ig(e,n)};var Ar=O(null);function Xh(){var e=Ar.current;return e!==null?e:$t.pooledCache}function Du(e,n){n===null?tt(Ar,Ar.current):tt(Ar,n.pool)}function Cg(){var e=Xh();return e===null?null:{parent:Ee._currentValue,pool:e}}var _a=Error(a(460)),Zh=Error(a(474)),Nu=Error(a(542)),Ou={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e}throw Rr=n,_a}}function br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Rr=s,_a):s}}var Rr=null;function Og(){if(Rr===null)throw Error(a(459));var e=Rr;return Rr=null,e}function Vg(e){if(e===_a||e===Nu)throw Error(a(483))}var va=null,ko=0;function Vu(e){var n=ko;return ko+=1,va===null&&(va=[]),Ng(va,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===U?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mg(e){function n(M,D){if(e){var x=M.deletions;x===null?(M.deletions=[D],M.flags|=16):x.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Mi(M,D),M.index=0,M.sibling=null,M}function f(M,D,x){return M.index=x,e?(x=M.alternate,x!==null?(x=x.index,x<D?(M.flags|=67108866,D):x):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,x,G){return D===null||D.tag!==6?(D=kh(x,M.mode,G),D.return=M,D):(D=h(D,x),D.return=M,D)}function w(M,D,x,G){var ut=x.type;return ut===et?q(M,D,x.props.children,G,x.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&br(ut)===D.type)?(D=h(D,x.props),zo(D,x),D.return=M,D):(D=Ru(x.type,x.key,x.props,null,M.mode,G),zo(D,x),D.return=M,D)}function k(M,D,x,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=zh(x,M.mode,G),D.return=M,D):(D=h(D,x.children||[]),D.return=M,D)}function q(M,D,x,G,ut){return D===null||D.tag!==7?(D=vr(x,M.mode,G,ut),D.return=M,D):(D=h(D,x),D.return=M,D)}function K(M,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=kh(""+D,M.mode,x),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return x=Ru(D.type,D.key,D.props,null,M.mode,x),zo(x,D),x.return=M,x;case $:return D=zh(D,M.mode,x),D.return=M,D;case b:return D=br(D),K(M,D,x)}if(Ie(D)||L(D))return D=vr(D,M.mode,x,null),D.return=M,D;if(typeof D.then=="function")return K(M,Vu(D),x);if(D.$$typeof===it)return K(M,Cu(M,D),x);Mu(M,D)}return null}function z(M,D,x,G){var ut=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ut!==null?null:E(M,D,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return x.key===ut?w(M,D,x,G):null;case $:return x.key===ut?k(M,D,x,G):null;case b:return x=br(x),z(M,D,x,G)}if(Ie(x)||L(x))return ut!==null?null:q(M,D,x,G,null);if(typeof x.then=="function")return z(M,D,Vu(x),G);if(x.$$typeof===it)return z(M,D,Cu(M,x),G);Mu(M,x)}return null}function j(M,D,x,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(x)||null,E(D,M,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return M=M.get(G.key===null?x:G.key)||null,w(D,M,G,ut);case $:return M=M.get(G.key===null?x:G.key)||null,k(D,M,G,ut);case b:return G=br(G),j(M,D,x,G,ut)}if(Ie(G)||L(G))return M=M.get(x)||null,q(D,M,G,ut,null);if(typeof G.then=="function")return j(M,D,x,Vu(G),ut);if(G.$$typeof===it)return j(M,D,x,Cu(D,G),ut);Mu(D,G)}return null}function at(M,D,x,G){for(var ut=null,zt=null,ot=D,bt=D=0,Ct=null;ot!==null&&bt<x.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Bt=z(M,ot,x[bt],G);if(Bt===null){ot===null&&(ot=Ct);break}e&&ot&&Bt.alternate===null&&n(M,ot),D=f(Bt,D,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt,ot=Ct}if(bt===x.length)return s(M,ot),Mt&&Ui(M,bt),ut;if(ot===null){for(;bt<x.length;bt++)ot=K(M,x[bt],G),ot!==null&&(D=f(ot,D,bt),zt===null?ut=ot:zt.sibling=ot,zt=ot);return Mt&&Ui(M,bt),ut}for(ot=o(ot);bt<x.length;bt++)Ct=j(ot,M,bt,x[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),zt===null?ut=Ct:zt.sibling=Ct,zt=Ct);return e&&ot.forEach(function(Us){return n(M,Us)}),Mt&&Ui(M,bt),ut}function dt(M,D,x,G){if(x==null)throw Error(a(151));for(var ut=null,zt=null,ot=D,bt=D=0,Ct=null,Bt=x.next();ot!==null&&!Bt.done;bt++,Bt=x.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Us=z(M,ot,Bt.value,G);if(Us===null){ot===null&&(ot=Ct);break}e&&ot&&Us.alternate===null&&n(M,ot),D=f(Us,D,bt),zt===null?ut=Us:zt.sibling=Us,zt=Us,ot=Ct}if(Bt.done)return s(M,ot),Mt&&Ui(M,bt),ut;if(ot===null){for(;!Bt.done;bt++,Bt=x.next())Bt=K(M,Bt.value,G),Bt!==null&&(D=f(Bt,D,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return Mt&&Ui(M,bt),ut}for(ot=o(ot);!Bt.done;bt++,Bt=x.next())Bt=j(ot,M,bt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?bt:Bt.key),D=f(Bt,D,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return e&&ot.forEach(function(oA){return n(M,oA)}),Mt&&Ui(M,bt),ut}function Jt(M,D,x,G){if(typeof x=="object"&&x!==null&&x.type===et&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case F:t:{for(var ut=x.key;D!==null;){if(D.key===ut){if(ut=x.type,ut===et){if(D.tag===7){s(M,D.sibling),G=h(D,x.props.children),G.return=M,M=G;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&br(ut)===D.type){s(M,D.sibling),G=h(D,x.props),zo(G,x),G.return=M,M=G;break t}s(M,D);break}else n(M,D);D=D.sibling}x.type===et?(G=vr(x.props.children,M.mode,G,x.key),G.return=M,M=G):(G=Ru(x.type,x.key,x.props,null,M.mode,G),zo(G,x),G.return=M,M=G)}return g(M);case $:t:{for(ut=x.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){s(M,D.sibling),G=h(D,x.children||[]),G.return=M,M=G;break t}else{s(M,D);break}else n(M,D);D=D.sibling}G=zh(x,M.mode,G),G.return=M,M=G}return g(M);case b:return x=br(x),Jt(M,D,x,G)}if(Ie(x))return at(M,D,x,G);if(L(x)){if(ut=L(x),typeof ut!="function")throw Error(a(150));return x=ut.call(x),dt(M,D,x,G)}if(typeof x.then=="function")return Jt(M,D,Vu(x),G);if(x.$$typeof===it)return Jt(M,D,Cu(M,x),G);Mu(M,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(s(M,D.sibling),G=h(D,x),G.return=M,M=G):(s(M,D),G=kh(x,M.mode,G),G.return=M,M=G),g(M)):s(M,D)}return function(M,D,x,G){try{ko=0;var ut=Jt(M,D,x,G);return va=null,ut}catch(ot){if(ot===_a||ot===Nu)throw ot;var zt=mn(29,ot,null,M.mode);return zt.lanes=G,zt.return=M,zt}finally{}}}var wr=Mg(!0),Ug=Mg(!1),ys=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),yg(e,null,s),n}return Au(e,o,n,s),bu(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,fo(e,s)}}function Wh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var tf=!1;function jo(){if(tf){var e=ya;if(e!==null)throw e}}function qo(e,n,s,o){tf=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=w))}if(f!==null){var K=h.baseState;g=0,q=k=w=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(It&z)===z:(o&z)===z){z!==0&&z===pa&&(tf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var Jt=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){K=at.call(Jt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Jt,K,z):at,z==null)break t;K=A({},K,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=j,w=K):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(w=K),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=K}}function Lg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Pg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Lg(s[e],n)}var Ea=O(null),Uu=O(0);function xg(e,n){e=Fi,tt(Uu,e),tt(Ea,n),Fi=e|n.baseLanes}function ef(){tt(Uu,Fi),tt(Ea,Ea.current)}function nf(){Fi=Uu.current,Q(Ea),Q(Uu)}var gn=O(null),Nn=null;function Es(e){var n=e.alternate;tt(fe,fe.current&1),tt(gn,e),Nn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Nn=e)}function sf(e){tt(fe,fe.current),tt(gn,e),Nn===null&&(Nn=e)}function kg(e){e.tag===22?(tt(fe,fe.current),tt(gn,e),Nn===null&&(Nn=e)):Ts()}function Ts(){tt(fe,fe.current),tt(gn,gn.current)}function pn(e){Q(gn),Nn===e&&(Nn=null),Q(fe)}var fe=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,St=null,Xt=null,Te=null,Pu=!1,Ta=!1,Ir=!1,xu=0,Ho=0,Sa=null,J0=0;function le(){throw Error(a(321))}function rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function af(e,n,s,o,h,f){return xi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Tp:Tf,Ir=!1,f=s(o,h),Ir=!1,Ta&&(f=Bg(n,s,o,h)),zg(e),f}function zg(e){H.H=Ko;var n=Xt!==null&&Xt.next!==null;if(xi=0,Te=Xt=St=null,Pu=!1,Ho=0,Sa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Iu(e)&&(Se=!0))}function Bg(e,n,s,o){St=e;var h=0;do{if(Ta&&(Sa=null),Ho=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Sp,f=n(s,o)}while(Ta);return f}function $0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function of(){var e=xu!==0;return xu=0,e}function lf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function uf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}xi=0,Te=Xt=St=null,Ta=!1,Ho=xu=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?St.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?St.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?St.memoizedState=Te=e:Te=Te.next=e}return Te}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Ho;return Ho+=1,Sa===null&&(Sa=[]),e=Ng(Sa,e,n),n=St,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Tp:Tf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===it)return je(e)}throw Error(a(438,String(e)))}function cf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=de();return hf(n,Xt,e)}function hf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,w=null,k=n,q=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(It&K)===K:(xi&K)===K){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===pa&&(q=!0);else if((xi&z)===z){k=k.next,z===pa&&(q=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=K,g=f):w=w.next=K,St.lanes|=z,bs|=z;K=k.action,Ir&&s(f,K),f=k.hasEagerState?k.eagerState:s(f,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,St.lanes|=K,bs|=K;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!dn(f,e.memoizedState)&&(Se=!0,q&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ff(e){var n=de(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function jg(e,n,s){var o=St,h=de(),f=Mt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,gf(Gg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},Hg.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(xi&127)!==0||qg(o,n,s)}return s}function qg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=ku(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Hg(e,n,s,o){n.value=s,n.getSnapshot=o,Fg(n)&&Kg(e)}function Gg(e,n,s){return s(function(){Fg(n)&&Kg(e)})}function Fg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Kg(e){var n=_r(e,2);n!==null&&un(n,e,2)}function df(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Ir){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Qg(e,n,s,o){return e.baseState=s,hf(e,Xt,typeof o=="function"?o:ki)}function W0(e,n,s,o,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Yg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Yg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),w=H.S;w!==null&&w(g,E),Xg(e,n,E)}catch(k){mf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),Xg(e,n,f)}catch(k){mf(e,n,k)}}function Xg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Zg(e,n,o)},function(o){return mf(e,n,o)}):Zg(e,n,s)}function Zg(e,n,s){n.status="fulfilled",n.value=s,Jg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Yg(e,s)))}function mf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Jg(n),n=n.next;while(n!==o)}e.action=null}function Jg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Wg(e,n){if(Mt){var s=$t.formState;if(s!==null){t:{var o=St;if(Mt){if(Wt){e:{for(var h=Wt,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=On(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=o,s=_p.bind(null,St,o),o.dispatch=s,o=df(!1),f=Ef.bind(null,St,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=W0.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function tp(e){var n=de();return ep(n,Xt,e)}function ep(e,n,s){if(n=hf(e,n,$g)[0],e=Bu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===_a?Nu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Aa(9,{destroy:void 0},tS.bind(null,h,s),null)),[o,f,e]}function tS(e,n){e.action=n}function np(e){var n=de(),s=Xt;if(s!==null)return ep(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Aa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=ku(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ip(){return de().memoizedState}function ju(e,n,s,o){var h=tn();St.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&rf(o,Xt.memoizedState.deps)?h.memoizedState=Aa(n,f,s,o):(St.flags|=e,h.memoizedState=Aa(1|n,f,s,o))}function sp(e,n){ju(8390656,8,e,n)}function gf(e,n){qu(2048,8,e,n)}function eS(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ku(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function rp(e){var n=de().memoizedState;return eS({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ap(e,n){return qu(4,2,e,n)}function op(e,n){return qu(4,4,e,n)}function lp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function up(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,lp.bind(null,n,e),s)}function pf(){}function cp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function hp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&rf(n,o[1]))return o[0];if(o=e(),Ir){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function yf(e,n,s){return s===void 0||(xi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=fy(),St.lanes|=e,bs|=e,s)}function fp(e,n,s,o){return dn(s,n)?s:Ea.current!==null?(e=yf(e,s,o),dn(e,n)||(Se=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=s):(e=fy(),St.lanes|=e,bs|=e,n)}function dp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Ef(e,!1,n,s);try{var w=h(),k=H.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=Z0(w,o);Fo(e,n,q,vn(e))}else Fo(e,n,o,vn(e))}catch(K){Fo(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function nS(){}function _f(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=mp(e).queue;dp(e,h,n,ct,s===null?nS:function(){return gp(e),s(o)})}function mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gp(e){var n=mp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},vn())}function vf(){return je(ll)}function pp(){return de().memoizedState}function yp(){return de().memoizedState}function iS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=_s(s);var o=vs(n,e,s);o!==null&&(un(o,n,s),Bo(o,n,s)),n={cache:Qh()},e.payload=n;return}n=n.return}}function sS(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?vp(n,s):(s=Ph(e,n,s,o),s!==null&&(un(s,e,o),Ep(s,n,o)))}function _p(e,n,s){var o=vn();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return Au(e,n,h,0),$t===null&&Su(),!1}catch{}finally{}if(s=Ph(e,n,h,o),s!==null)return un(s,e,o),Ep(s,n,o),!0}return!1}function Ef(e,n,s,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=Ph(e,s,o,2),n!==null&&un(n,e,2)}function Hu(e){var n=e.alternate;return e===St||n!==null&&n===St}function vp(e,n){Ta=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ep(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,fo(e,s)}}var Ko={readContext:je,use:zu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ko.useEffectEvent=le;var Tp={readContext:je,use:zu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:sp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,lp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Ir){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Ir){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sS.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=df(e);var n=e.queue,s=_p.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(e,n){var s=tn();return yf(s,e,n)},useTransition:function(){var e=df(!1);return e=dp.bind(null,St,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=tn();if(Mt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(It&127)!==0||qg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,sp(Gg.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},Hg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Mt){var s=pi,o=gi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=J0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:cf,useCacheRefresh:function(){return tn().memoizedState=iS.bind(null,St)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:je,use:zu,useCallback:cp,useContext:je,useEffect:gf,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:Bu,useRef:ip,useState:function(){return Bu(ki)},useDebugValue:pf,useDeferredValue:function(e,n){var s=de();return fp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:vf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=de();return Qg(s,Xt,e,n)},useMemoCache:cf,useCacheRefresh:yp};Tf.useEffectEvent=rp;var Sp={readContext:je,use:zu,useCallback:cp,useContext:je,useEffect:gf,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:ff,useRef:ip,useState:function(){return ff(ki)},useDebugValue:pf,useDeferredValue:function(e,n){var s=de();return Xt===null?yf(s,e,n):fp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=ff(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:vf,useFormState:np,useActionState:np,useOptimistic:function(e,n){var s=de();return Xt!==null?Qg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:yp};Sp.useEffectEvent=rp;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(un(n,e,s),Bo(n,e,s))}};function Ap(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Cr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Rp(e){Tu(e)}function wp(e){console.error(e)}function Ip(e){Tu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function Dp(e){return e=_s(e),e.tag=3,e}function Np(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Cp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Cp(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rS(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?nc():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Xf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Xf(e,o,h)),!1}throw Error(a(435,s.tag))}return Xf(e,o,h),nc(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==qh&&(e=Error(a(422),{cause:o}),Lo(wn(e,s)))):(o!==qh&&(n=Error(a(423),{cause:o}),Lo(wn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,s),h=bf(e.stateNode,o,h),Wh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,s),tl===null?tl=[f]:tl.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=bf(s.stateNode,o,e),Wh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Dp(h),Np(h,e,s,o),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Ug(n,null,s,o):wr(n,e.child,s,o)}function Op(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Sr(n),o=af(e,n,s,g,f,h),E=of(),e!==null&&!Se?(lf(e,n,h),zi(e,n,h)):(Mt&&E&&Bh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Vp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Mp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Mf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Mp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Mf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return wf(e,n,s,o,h)}function Up(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Lp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?xg(n,f):ef(),kg(n);else return o=n.lanes=536870912,Lp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),xg(n,f),Ts(),n.memoizedState=null):(e!==null&&Du(n,null),ef(),Ts());return qe(e,n,h,s),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Lp(e,n,s,o,h){var f=Xh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),ef(),kg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pp(e,n,s){return wr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function aS(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Qo(null,e);if(sf(n),(e=Wt)?(e=Yy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=vg(e),s.return=n,n.child=s,Be=n,Wt=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Pp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=mo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_r(e,g),un(o,e,g),Rf;nc(),n=Pp(e,n,s)}else e=f.treeContext,Wt=On(g.nextSibling),Be=n,Mt=!0,ms=null,Dn=!1,e!==null&&Sg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wf(e,n,s,o,h){return Sr(n),s=af(e,n,s,o,void 0,h),o=of(),e!==null&&!Se?(lf(e,n,h),zi(e,n,h)):(Mt&&o&&Bh(n),n.flags|=1,qe(e,n,s,h),n.child)}function xp(e,n,s,o,h,f){return Sr(n),n.updateQueue=null,s=Bg(n,o,s,h),zg(e),o=of(),e!==null&&!Se?(lf(e,n,f),zi(e,n,f)):(Mt&&o&&Bh(n),n.flags|=1,qe(e,n,s,f),n.child)}function kp(e,n,s,o,h){if(Sr(n),n.stateNode===null){var f=ha,g=s.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?je(g):ha,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Af.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Cr(s,E);f.props=w;var k=f.context,q=s.contextType;g=ha,typeof q=="object"&&q!==null&&(g=je(q));var K=s.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&bp(n,f,o,g),ys=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,h),jo(),k=n.memoizedState,E||z!==k||ys?(typeof K=="function"&&(Sf(n,s,K,o),k=n.memoizedState),(w=ys||Ap(n,s,w,o,z,k,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,q=Cr(s,g),f.props=q,K=n.pendingProps,z=f.context,k=s.contextType,w=ha,typeof k=="object"&&k!==null&&(w=je(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==w)&&bp(n,f,o,w),ys=!1,z=n.memoizedState,f.state=z,qo(n,o,f,h),jo();var j=n.memoizedState;g!==K||z!==j||ys||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),j=n.memoizedState),(q=ys||Ap(n,s,q,o,z,j,w)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=w,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=wr(n,e.child,null,h),n.child=wr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function zp(e,n,s,o){return Er(),n.flags|=256,qe(e,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:Cg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Bp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Es(n):Ts(),(e=Wt)?(e=Yy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=vg(e),s.return=n,n.child=s,Be=n,Wt=null)):e=null,e===null)throw gs(n);return hd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ts(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Cf(s),o.childLanes=Df(e,g,s),n.memoizedState=If,Qo(null,o)):(Es(n),Nf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Of(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,wr(n,e.child,null,s),o=n.child,o.memoizedState=Cf(s),o.childLanes=Df(e,g,s),n.memoizedState=If,n=Qo(null,o));else if(Es(n),hd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Of(e,n,s)}else if(Se||ga(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=mo(g,s),o!==0&&o!==w.retryLane))throw w.retryLane=o,_r(e,o),un(g,e,o),Rf;cd(E)||nc(),n=Of(e,n,s)}else cd(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Wt=On(E.nextSibling),Be=n,Mt=!0,ms=null,Dn=!1,e!==null&&Sg(n,e),n=Nf(n,o.children),n.flags|=4096);return n}return h?(Ts(),E=o.fallback,h=n.mode,w=e.child,k=w.sibling,o=Mi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Mi(k,E):(E=vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Cf(s):(h=E.cachePool,h!==null?(w=Ee._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Cg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=If,Qo(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Nf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Of(e,n,s){return wr(n,e.child,null,s),e=Nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Fh(e.return,n,s)}function Vf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function qp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(e,n,o,s),o=Mt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Vf(n,!0,s,null,f,o);break;case"together":Vf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function oS(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ps(n,Ee,e.memoizedState.cache),Er();break;case 27:case 5:tr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Bp(e,n,s):(Es(n),e=zi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ga(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return qp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Up(e,n,s,n.pendingProps);case 24:ps(n,Ee,e.memoizedState.cache)}return zi(e,n,s)}function Hp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Mf(e,s)&&(n.flags&128)===0)return Se=!1,oS(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&Tg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=br(n.elementType),n.type=e,typeof e=="function")xh(e)?(o=Cr(e,o),n.tag=1,n=kp(null,n,e,o,s)):(n.tag=0,n=wf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=Op(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Vp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cr(o,n.pendingProps),kp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Ee,o),o!==f.cache&&Kh(n,[Ee],s,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zp(e,n,o,s);break t}else if(o!==h){h=wn(Error(a(424)),n),Lo(h),n=zp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=On(e.firstChild),Be=n,Mt=!0,ms=null,Dn=!0,s=Ug(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Er(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=t_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,o=uc(At.current).createElement(s),o[ye]=n,o[Me]=e,He(o,s,e),_e(o),n.stateNode=o):n.memoizedState=t_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Mt&&(o=n.stateNode=Jy(n.type,n.pendingProps,At.current),Be=n,Dn=!0,h=Wt,Ds(n.type)?(fd=h,Wt=On(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=Wt)&&(o=xS(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Be=n,Wt=On(o.firstChild),Dn=!1,h=!0):h=!1),h||gs(n)),tr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,od(h,f)?o=null:g!==null&&od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,$0,null,null,s),ll._currentValue=h),Ku(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Mt&&((e=s=Wt)&&(s=kS(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,Be=n,Wt=null,e=!0):e=!1),e||gs(n)),null;case 13:return Bp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=wr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Op(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Sr(n),h=je(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Vp(e,n,n.type,n.pendingProps,s);case 15:return Mp(e,n,n.type,n.pendingProps,s);case 19:return qp(e,n,s);case 31:return aS(e,n,s);case 22:return Up(e,n,s,n.pendingProps);case 24:return Sr(n),o=je(Ee),e===null?(h=Xh(),h===null&&(h=$t,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),ps(n,Ee,h)):((e.lanes&s)!==0&&($h(e,n),qo(n,null,null,s),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Ee,o)):(o=f.cache,ps(n,Ee,o),o!==h.cache&&Kh(n,[Ee],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(py())e.flags|=8192;else throw Rr=Ou,Zh}else e.flags&=-16777217}function Gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(n))if(py())e.flags|=8192;else throw Rr=Ou,Zh}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Ia|=n)}function Yo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lS(e,n,s){var o=n.pendingProps;switch(jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ee),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(te(n),Gp(n,f)):(te(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),te(n),Gp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),te(n),Uf(n,h,e,o,s)),null;case 27:if(Kr(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=rt.current,ma(n)?Ag(n):(e=Jy(h,o,s),n.stateNode=e,Bi(n))}return te(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=rt.current,ma(n))Ag(n);else{var g=uc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return te(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||By(e.nodeValue,s)),e||gs(n,!0)}else e=uc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Hh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Hh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&nd(n.stateNode.containerInfo),te(n),null;case 10:return Pi(n.type),te(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Yo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Yo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)_g(s,e),s=s.sibling;return tt(fe,fe.current&1|2),Mt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Wu&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return te(n),null}else 2*$e()-o.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,tt(fe,h?s&1|2:s&1),Mt&&Ui(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return pn(n),nf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Ar),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uS(e,n){switch(jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return pn(n),nf(),e!==null&&Q(Ar),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ee),null;case 25:return null;default:return null}}function Fp(e,n){switch(jh(n),n.tag){case 3:Pi(Ee),se();break;case 26:case 27:case 5:Kr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Q(fe);break;case 10:Pi(n.type);break;case 22:case 23:pn(n),nf(),e!==null&&Q(Ar);break;case 24:Pi(Ee)}}function Xo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var w=s,k=E;try{k()}catch(q){Qt(h,w,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Kp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Pg(n,s)}catch(o){Qt(e,e.return,o)}}}function Qp(e,n,s){s.props=Cr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function Yp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;OS(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(xf(e,n,s),e=e.sibling;e!==null;)xf(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function Zp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ye]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var ji=!1,Ae=!1,kf=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function cS(e,n){if(e=e.containerInfo,rd=pc,e=ug(e),Nh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,w=-1,k=0,q=0,K=e,z=null;e:for(;;){for(var j;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(w=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(j=K.firstChild)!==null;)z=K,K=j;for(;;){if(K===e)break e;if(z===s&&++k===h&&(E=g),z===f&&++q===o&&(w=g),(j=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=j}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:e,selectionRange:s},pc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Cr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ud(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function $p(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Xo(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Cr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Kp(s),o&512&&Zo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&Zp(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Yp(s),o&512&&Zo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&ey(e,s);break;case 13:Hi(e,s),o&4&&ny(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vS.bind(null,s),zS(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Ae,h=ji;var f=Ae;ji=o,(Ae=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),ji=h,Ae=f}break;case 30:break;default:Hi(e,s)}}function Wp(e){var n=e.alternate;n!==null&&(e.alternate=null,Wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)ty(e,n,s),s=s.sibling}function ty(e,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:Ae||yi(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||yi(s,n);var o=ae,h=rn;Ds(s.type)&&(ae=s.stateNode,rn=!1),qi(e,n,s),rl(s.stateNode),ae=o,rn=h;break;case 5:Ae||yi(s,n);case 6:if(o=ae,h=rn,ae=null,qi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):Ky(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,qi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),Ae||Ss(4,s,n),qi(e,n,s);break;case 1:Ae||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qp(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Ae=(o=Ae)||s.memoizedState!==null,qi(e,n,s),Ae=o;break;default:qi(e,n,s)}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Qt(n,n.return,s)}}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Qt(n,n.return,s)}}function hS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jp),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=hS(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ES.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ty(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,e),n=n.sibling}var Kn=null;function iy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Xo(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Ae||s===null||yi(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(Ae||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=i_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=i_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else s_(h,e.type,e.stateNode);else e.stateNode=n_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?s_(h,e.type,e.stateNode):n_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Ae||s===null||yi(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Ae||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(fc=null,h=Kn,Kn=cc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Qt(e,e.return,at)}kf&&(kf=!1,sy(e));break;case 4:o=Kn,Kn=cc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,k=ji,q=Ae;if(ji=k||h,Ae=q||w,an(n,e),Ae=q,ji=k,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||w||ji||Ae||Dr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Qt(w,w.return,at)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(at){Qt(w,w.return,at)}}}else if(n.tag===18){if(s===null){w=n;try{var j=w.stateNode;h?Qy(j,!0):Qy(w.stateNode,!1)}catch(at){Qt(w,w.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Xp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Xu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Pf(e);Xu(e,E,g);break;case 3:case 4:var w=s.stateNode.containerInfo,k=Pf(e);xf(e,k,w);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Dr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),Dr(n);break;case 27:rl(n.stateNode);case 26:case 5:yi(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Xo(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Lg(w[h],E)}catch(k){Qt(o,o.return,k)}}s&&g&64&&Kp(f),Zo(f,f.return);break;case 27:Zp(f);case 26:case 5:Gi(h,f,s),s&&o===null&&g&4&&Yp(f),Zo(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&g&4&&ey(h,f);break;case 13:Gi(h,f,s),s&&g&4&&ny(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Zo(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,s,o),n=n.sibling}function ry(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Xo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Jo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zf(g,n);break;case 24:Qn(e,n,s,o),h&2048&&Bf(n.alternate,n);break;default:Qn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,w=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,w,h),Xo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?ba(f,g,E,w,h):Jo(f,g):(q._visibility|=2,ba(f,g,E,w,h)),h&&k&2048&&zf(g.alternate,g);break;case 24:ba(f,g,E,w,h),h&&k&2048&&Bf(g.alternate,g);break;default:ba(f,g,E,w,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(s,o),h&2048&&zf(o.alternate,o);break;case 24:Jo(s,o),h&2048&&Bf(o.alternate,o);break;default:Jo(s,o)}n=n.sibling}}var $o=8192;function Ra(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ay(e,n,s),e=e.sibling}function ay(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&$o&&e.memoizedState!==null&&JS(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Kn;Kn=cc(e.stateNode.containerInfo),Ra(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Ra(e,n,s),$o=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,uy(o,e)}oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):Wo(e);break;default:Wo(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,uy(o,e)}oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function uy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Wp(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var fS={getCacheForType:function(e){var n=je(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(Ee).controller.signal}},dS=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Rt=null,It=0,Kt=0,yn=null,As=!1,wa=!1,jf=!1,Fi=0,ue=0,bs=0,Nr=0,qf=0,_n=0,Ia=0,tl=null,ln=null,Hf=!1,$u=0,cy=0,Wu=1/0,tc=null,Rs=null,Ne=0,ws=null,Ca=null,Ki=0,Gf=0,Ff=null,hy=null,el=0,Kf=null;function vn(){return(qt&2)!==0&&It!==0?It&-It:H.T!==null?$f():eu()}function fy(){if(_n===0)if((It&536870912)===0||Mt){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===$t&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Is(e,It,_n,!1)),sr(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Nr|=s),ue===4&&Is(e,It,_n,!1)),_i(e))}function dy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?pS(e,n):Yf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mS(s)){h=Yf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=tl;var w=E.current.memoizedState.isDehydrated;if(w&&(Da(E,g).flags|=256),g=Yf(E,g,!1),g!==2){if(jf&&!w){E.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,_n,!As);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-$e(),10<h)){if(Is(o,n,_n,!As),ti(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=Gy(my.bind(null,o,s,ln,tc,Hf,n,_n,Nr,Ia,As,f,"Throttled",-0,0),h);break t}my(o,s,ln,tc,Hf,n,_n,Nr,Ia,As,f,null,-0,0)}}break}while(!0);_i(e)}function my(e,n,s,o,h,f,g,E,w,k,q,K,z,j){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ay(n,f,K);var at=(f&62914560)===f?$u-$e():(f&4194048)===f?cy-$e():0;if(at=$S(K,at),at!==null){Ki=f,e.cancelPendingCommit=at(Sy.bind(null,e,n,f,s,o,h,g,E,w,q,K,null,z,j)),Is(e,f,g,!k);return}}Sy(e,n,f,s,o,h,g,E,w)}function mS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,o){n&=~qf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&rr(e,s,n)}function ec(){return(qt&6)===0?(nl(0),!1):!0}function Qf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Li=Tr=null,uf(e),va=null,ko=0,e=Rt;for(;e!==null;)Fp(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,US(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Qf(),$t=e,Rt=s=Mi(e.current,null),It=n,Kt=0,yn=null,As=!1,wa=xn(e,n),jf=!1,Ia=_n=qf=Nr=bs=ue=0,ln=tl=null,Hf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,Su(),s}function gy(e,n){St=null,H.H=Ko,n===_a||n===Nu?(n=Og(),Kt=3):n===Zh?(n=Og(),Kt=4):Kt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Rt===null&&(ue=1,Gu(e,wn(n,e.current)))}function py(){var e=gn.current;return e===null?!0:(It&4194048)===It?Nn===null:(It&62914560)===It||(It&536870912)!==0?e===Nn:!1}function yy(){var e=H.H;return H.H=Ko,e===null?Ko:e}function _y(){var e=H.A;return H.A=fS,e}function nc(){ue=4,As||(It&4194048)!==It&&gn.current!==null||(wa=!0),(bs&134217727)===0&&(Nr&134217727)===0||$t===null||Is($t,It,_n,!1)}function Yf(e,n,s){var o=qt;qt|=2;var h=yy(),f=_y();($t!==e||It!==n)&&(tc=null,Da(e,n)),n=!1;var g=ue;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,w=yn;switch(Kt){case 8:Qf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Kt;if(Kt=0,yn=null,Na(e,E,w,k),s&&wa){g=0;break t}break;default:k=Kt,Kt=0,yn=null,Na(e,E,w,k)}}gS(),g=ue;break}catch(q){gy(e,q)}while(!0);return n&&e.shellSuspendCounter++,Li=Tr=null,qt=o,H.H=h,H.A=f,Rt===null&&($t=null,It=0,Su()),g}function gS(){for(;Rt!==null;)vy(Rt)}function pS(e,n){var s=qt;qt|=2;var o=yy(),h=_y();$t!==e||It!==n?(tc=null,Wu=$e()+500,Da(e,n)):wa=xn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=yn;e:switch(Kt){case 1:Kt=0,yn=null,Na(e,n,f,1);break;case 2:case 9:if(Dg(f)){Kt=0,yn=null,Ey(n);break}n=function(){Kt!==2&&Kt!==9||$t!==e||(Kt=7),_i(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Dg(f)?(Kt=0,yn=null,Ey(n)):(Kt=0,yn=null,Na(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?r_(g):E.stateNode.complete){Kt=0,yn=null;var w=E.sibling;if(w!==null)Rt=w;else{var k=E.return;k!==null?(Rt=k,ic(k)):Rt=null}break e}}Kt=0,yn=null,Na(e,n,f,5);break;case 6:Kt=0,yn=null,Na(e,n,f,6);break;case 8:Qf(),ue=6;break t;default:throw Error(a(462))}}yS();break}catch(q){gy(e,q)}while(!0);return Li=Tr=null,H.H=o,H.A=h,qt=s,Rt!==null?0:($t=null,It=0,Su(),ue)}function yS(){for(;Rt!==null&&!Ah();)vy(Rt)}function vy(e){var n=Hp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?ic(e):Rt=n}function Ey(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=xp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=xp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:uf(n);default:Fp(s,n),n=Rt=_g(n,Fi),n=Hp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?ic(e):Rt=n}function Na(e,n,s,o){Li=Tr=null,uf(n),va=null,ko=0;var h=n.return;try{if(rS(e,h,n,s,It)){ue=1,Gu(e,wn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,Gu(e,wn(s,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:wa||(It&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Ty(n,As);return}e=n.return;var s=lS(n.alternate,n,Fi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function Ty(e,n){do{var s=uS(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ue=6,Rt=null}function Sy(e,n,s,o,h,f,g,E,w){e.cancelPendingCommit=null;do sc();while(Ne!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,wh(e,s,f,g,E,w),e===$t&&(Rt=$t=null,It=0),Ca=n,ws=e,Ki=s,Gf=f,Ff=h,hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TS(is,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=qt,qt|=4;try{cS(e,n,s)}finally{qt=g,W.p=h,H.T=o}}Ne=1,Ay(),by(),Ry()}}function Ay(){if(Ne===1){Ne=0;var e=ws,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{iy(n,e);var f=ad,g=ug(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&lg(E.ownerDocument.documentElement,E)){if(w!==null&&Nh(E)){var k=w.start,q=w.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var j=z.getSelection(),at=E.textContent.length,dt=Math.min(w.start,at),Jt=w.end===void 0?dt:Math.min(w.end,at);!j.extend&&dt>Jt&&(g=Jt,Jt=dt,dt=g);var M=og(E,dt),D=og(E,Jt);if(M&&D&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var x=K.createRange();x.setStart(M.node,M.offset),j.removeAllRanges(),dt>Jt?(j.addRange(x),j.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),j.addRange(x))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}pc=!!rd,ad=rd=null}finally{qt=h,W.p=o,H.T=s}}e.current=n,Ne=2}}function by(){if(Ne===2){Ne=0;var e=ws,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{$p(e,n.alternate,n)}finally{qt=h,W.p=o,H.T=s}}Ne=3}}function Ry(){if(Ne===4||Ne===3){Ne=0,Yl();var e=ws,n=Ca,s=Ki,o=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ca=ws=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Di(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Ki&3)!==0&&sc(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?el++:(el=0,Kf=e):el=0,nl(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function sc(){return Ay(),by(),Ry(),Iy()}function Iy(){if(Ne!==5)return!1;var e=ws,n=Gf;Gf=0;var s=Di(Ki),o=H.T,h=W.p;try{W.p=32>s?32:s,H.T=null,s=Ff,Ff=null;var f=ws,g=Ki;if(Ne=0,Ca=ws=null,Ki=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,ly(f.current),ry(f,f.current,g,s),qt=E,nl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{W.p=h,H.T=o,wy(e,n)}}function Cy(e,n,s){n=wn(s,n),n=bf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(sr(e,2),_i(e))}function Qt(e,n,s){if(e.tag===3)Cy(e,e,s);else for(;n!==null;){if(n.tag===3){Cy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=wn(s,e),s=Dp(2),o=vs(n,s,2),o!==null&&(Np(s,o,n,e),sr(o,2),_i(o));break}}n=n.return}}function Xf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new dS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(jf=!0,h.add(s),e=_S.bind(null,e,n,s),n.then(e,e))}function _S(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(It&s)===s&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-$u?(qt&2)===0&&Da(e,0):qf|=s,Ia===It&&(Ia=0)),_i(e)}function Dy(e,n){n===0&&(n=tu()),e=_r(e,n),e!==null&&(sr(e,n),_i(e))}function vS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Dy(e,s)}function ES(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Dy(e,s)}function TS(e,n){return De(e,n)}var rc=null,Oa=null,Zf=!1,ac=!1,Jf=!1,Cs=0;function _i(e){e!==Oa&&e.next===null&&(Oa===null?rc=Oa=e:Oa=Oa.next=e),ac=!0,Zf||(Zf=!0,AS())}function nl(e,n){if(!Jf&&ac){Jf=!0;do for(var s=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,My(o,f))}else f=It,f=ti(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(s=!0,My(o,f));o=o.next}while(s);Jf=!1}}function SS(){Ny()}function Ny(){ac=Zf=!1;var e=0;Cs!==0&&MS()&&(e=Cs);for(var n=$e(),s=null,o=rc;o!==null;){var h=o.next,f=Oy(o,n);f===0?(o.next=null,s===null?rc=h:s.next=h,h===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}Ne!==0&&Ne!==5||nl(e),Cs!==0&&(Cs=0)}function Oy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=h[g];w===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Rh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=It,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Di(s)){case 2:case 8:s=ho;break;case 32:s=is;break;case 268435456:s=Xl;break;default:s=is}return o=Vy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=It;return o=ti(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(dy(e,o,n),Oy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Vy.bind(null,e):null)}function My(e,n){if(sc())return null;dy(e,n,!0)}function AS(){LS(function(){(qt&6)!==0?De(co,SS):Ny()})}function $f(){if(Cs===0){var e=pa;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Cs=e}return Cs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Ly(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function bS(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Uy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Uy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cs!==0){var w=g?Ly(h,g):new FormData(h);_f(s,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ly(h,g):new FormData(h),_f(s,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Wf=0;Wf<Uh.length;Wf++){var td=Uh[Wf],RS=td.toLowerCase(),wS=td[0].toUpperCase()+td.slice(1);Fn(RS,"on"+wS)}Fn(fg,"onAnimationEnd"),Fn(dg,"onAnimationIteration"),Fn(mg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(q0,"onTransitionRun"),Fn(H0,"onTransitionStart"),Fn(G0,"onTransitionCancel"),Fn(gg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Py(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){Tu(q)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){Tu(q)}h.currentTarget=null,f=w}}}}function wt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=e+"__bubble";s.has(o)||(xy(n,e,2,!1),s.add(o))}function ed(e,n,s){var o=0;n&&(o|=4),xy(s,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[oc]){e[oc]=!0,go.forEach(function(s){s!=="selectionchange"&&(IS.has(s)||ed(s,!1,e),ed(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,ed("selectionchange",!1,n))}}function xy(e,n,s,o){switch(f_(n)){case 2:var h=eA;break;case 8:h=nA;break;default:h=yd}s=h.bind(null,n,s,e),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function id(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}us(function(){var k=f,q=Sn(s),K=[];t:{var z=pg.get(e);if(z!==void 0){var j=hi,at=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":j=_u;break;case"focusin":at="focus",j=mr;break;case"focusout":at="blur",j=mr;break;case"beforeblur":case"afterblur":j=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case fg:case dg:case mg:j=hu;break;case gg:j=T;break;case"scroll":case"scrollend":j=Io;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vi;break;case"toggle":case"beforetoggle":j=Tt}var dt=(n&4)!==0,Jt=!dt&&(e==="scroll"||e==="scrollend"),M=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=k,x;D!==null;){var G=D;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||M===null||(G=jn(D,M),G!=null&&dt.push(sl(D,G,x))),Jt)break;D=D.return}0<dt.length&&(z=new j(z,at,null,s,q),K.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==bo&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(at=s.relatedTarget||s.toElement,j=k,at=at?si(at):null,at!==null&&(Jt=c(at),dt=at.tag,at!==Jt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(j=null,at=k),j!==at)){if(dt=Co,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,G="onPointerLeave",M="onPointerEnter",D="pointer"),Jt=j==null?z:hn(j),x=at==null?z:hn(at),z=new dt(G,D+"leave",j,s,q),z.target=Jt,z.relatedTarget=x,G=null,si(q)===k&&(dt=new dt(M,D+"enter",at,s,q),dt.target=x,dt.relatedTarget=Jt,G=dt),Jt=G,j&&at)e:{for(dt=CS,M=j,D=at,x=0,G=M;G;G=dt(G))x++;G=0;for(var ut=D;ut;ut=dt(ut))G++;for(;0<x-G;)M=dt(M),x--;for(;0<G-x;)D=dt(D),G--;for(;x--;){if(M===D||D!==null&&M===D.alternate){dt=M;break e}M=dt(M),D=dt(D)}dt=null}else dt=null;j!==null&&ky(K,z,j,dt,!1),at!==null&&Jt!==null&&ky(K,Jt,at,dt,!0)}}t:{if(z=k?hn(k):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=eg;else if(Wm(z))if(ng)zt=z0;else{zt=x0;var ot=P0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ta(k.elementType)&&(zt=eg):zt=k0;if(zt&&(zt=zt(e,k))){tg(K,zt,s,q);break t}ot&&ot(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&To(z,"number",z.value)}switch(ot=k?hn(k):window,e){case"focusin":(Wm(ot)||ot.contentEditable==="true")&&(la=ot,Oh=k,Mo=null);break;case"focusout":Mo=Oh=la=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,cg(K,s,q);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":cg(K,s,q)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else oa?gr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(mi&&s.locale!=="ko"&&(oa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&oa&&(bt=wo()):(ci=q,Ro="value"in ci?ci.value:ci.textContent,oa=!0)),ot=lc(k,Ct),0<ot.length&&(Ct=new di(Ct,e,null,s,q),K.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=aa(s),bt!==null&&(Ct.data=bt)))),(bt=bn?V0(e,s):M0(e,s))&&(Ct=lc(k,"onBeforeInput"),0<Ct.length&&(ot=new di("onBeforeInput","beforeinput",null,s,q),K.push({event:ot,listeners:Ct}),ot.data=bt)),bS(K,e,k,s,q)}Py(K,n)})}function sl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&o.unshift(sl(e,h,f)),h=jn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function CS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||k===null||(w=k,h?(k=jn(s,f),k!=null&&g.unshift(sl(s,k,w))):h||(k=jn(s,f),k!=null&&g.push(sl(s,k,w)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var DS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(DS,`
`).replace(NS,"")}function By(e,n){return n=zy(n),zy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,$r(e,s,o))}}function sd(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$r(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var E=f=g=h=null,w=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":w=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Zt(e,n,o,q,s,null)}}ru(e,f,E,w,k,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}as(e,o,h,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(o=s[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,w,o,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)wt(il[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,k,o,s,null)}return;default:if(ta(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&sd(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function OS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,k=null,q=null;for(j in s){var K=s[j];if(s.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=K;default:o.hasOwnProperty(j)||Zt(e,n,j,null,o,K)}}for(var z in o){var j=o[z];if(K=s[z],o.hasOwnProperty(z)&&(j!=null||K!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":k=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==K&&Zt(e,n,z,j,o,K)}}Wr(e,g,E,w,k,q,f,h);return;case"select":j=g=E=z=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=s[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Zt(e,n,h,f,o,w)}n=E,s=g,o=j,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}au(e,z,j);return;case"option":for(var at in s)if(z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,o,z)}for(w in o)if(z=o[w],j=s[w],o.hasOwnProperty(w)&&z!==j&&(z!=null||j!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,w,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Zt(e,n,dt,null,o,z);for(k in o)if(z=o[k],j=s[k],o.hasOwnProperty(k)&&z!==j&&(z!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,k,z,o,j)}return;default:if(ta(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&sd(e,n,Jt,void 0,o,z);for(q in o)z=o[q],j=s[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||sd(e,n,q,z,o,j);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Zt(e,n,M,null,o,z);for(K in o)z=o[K],j=s[K],!o.hasOwnProperty(K)||z===j||z==null&&j==null||Zt(e,n,K,z,o,j)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&jy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var w=s[o],k=w.startTime;if(k>E)break;var q=w.transferSize,K=w.initiatorType;q&&jy(K)&&(w=w.responseEnd,g+=q*(w<E?1:(E-k)/(w-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rd=null,ad=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function MS(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(PS)}:Gy;function PS(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Ky(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&rl(e.ownerDocument.body);s=h}while(s);La(n)}function Qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ud(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function xS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function kS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function Yy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$?"||e.data==="$~"}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var fd=null;function Xy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Jy(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Vn=new Map,$y=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:BS,r:jS,D:qS,C:HS,L:GS,m:FS,X:QS,S:KS,M:YS};function BS(){var e=Qi.f(),n=ec();return e||n}function jS(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?gp(n):Qi.r(e)}var Va=typeof document>"u"?null:document;function Wy(e,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function qS(e){Qi.D(e),Wy("dns-prefetch",e,null)}function HS(e,n){Qi.C(e,n),Wy("preconnect",e,n)}function GS(e,n,s){Qi.L(e,n,s);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Ua(e)}Vn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function FS(e,n){Qi.m(e,n);var s=Va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Vn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(f)))return}o=s.createElement("link"),He(o,"link",e),_e(o),s.head.appendChild(o)}}}function KS(e,n,s){Qi.S(e,n,s);var o=Va;if(o&&e){var h=ri(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(al(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&dd(e,s);var w=g=o.createElement("link");_e(w),He(w,"link",e),w._p=new Promise(function(k,q){w.onload=k,w.onerror=q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function QS(e,n){Qi.X(e,n);var s=Va;if(s&&e){var o=ri(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ol(h)),f||(e=A({src:e,async:!0},n),(n=Vn.get(h))&&md(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YS(e,n){Qi.M(e,n);var s=Va;if(s&&e){var o=ri(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ol(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&md(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function t_(e,n,s,o){var h=(h=At.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||XS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function e_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function XS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),_e(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function ol(e){return"script[async]"+e}function n_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),hc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ma(s.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=e_(s),(h=Vn.get(h))&&dd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",o),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(ol(f)))?(n.instance=h,_e(h),h):(o=s,(h=Vn.get(f))&&(o=A({},s),md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,s.precedence,e));return n.instance}function hc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function i_(e,n,s){if(fc===null){var o=new Map,h=fc=new Map;h.set(s,o)}else h=fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function s_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ZS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=e_(o),(h=Vn.get(h))&&dd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var gd=0;function $S(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gd===0&&(gd=62500*VS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(WS,e),mc=null,dc.call(e))}function WS(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:it,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function tA(e,n,s,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function a_(e,n,s,o,h,f,g,E,w,k,q,K){return e=new tA(e,n,s,g,w,k,q,K,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),e}function o_(e){return e?(e=ha,e):ha}function l_(e,n,s,o,h,f){h=o_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(un(s,e,n),Bo(s,e,n))}function u_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function pd(e,n){u_(e,n),(e=e.alternate)&&u_(e,n)}function c_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&un(n,e,67108864),pd(e,67108864)}}function h_(e){if(e.tag===13||e.tag===31){var n=vn();n=ar(n);var s=_r(e,n);s!==null&&un(s,e,n),pd(e,n)}}var pc=!0;function eA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,yd(e,n,s,o)}finally{W.p=f,H.T=h}}function nA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,yd(e,n,s,o)}finally{W.p=f,H.T=h}}function yd(e,n,s,o){if(pc){var h=_d(o);if(h===null)id(e,n,o,yc,s),d_(e,o);else if(sA(h,e,n,s,o))o.stopPropagation();else if(d_(e,o),n&4&&-1<iA.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}_i(f),(qt&6)===0&&(Wu=$e()+500,nl(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&un(E,f,2),ec(),pd(f,2)}if(f=_d(o),f===null&&id(e,n,o,yc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else id(e,n,o,null,s)}}function _d(e){return e=Sn(e),vd(e)}var yc=null;function vd(e){if(yc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function f_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case co:return 2;case ho:return 8;case is:case bh:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ns=null,Os=null,Vs=null,ul=new Map,cl=new Map,Ms=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&c_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sA(e,n,s,o,h){switch(n){case"focusin":return Ns=hl(Ns,e,n,s,o,h),!0;case"dragenter":return Os=hl(Os,e,n,s,o,h),!0;case"mouseover":return Vs=hl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,s,o,h)),!0}return!1}function m_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){h_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,kn(e.priority,function(){h_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=_d(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bo=o,s.target.dispatchEvent(o),bo=null}else return n=Tn(s),n!==null&&c_(n),e.blockedOn=s,!1;n.shift()}return!0}function g_(e,n,s){_c(e)&&s.delete(n)}function rA(){Ed=!1,Ns!==null&&_c(Ns)&&(Ns=null),Os!==null&&_c(Os)&&(Os=null),Vs!==null&&_c(Vs)&&(Vs=null),ul.forEach(g_),cl.forEach(g_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var Ec=null;function p_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(w){return vc(w,e)}Ns!==null&&vc(Ns,e),Os!==null&&vc(Os,e),Vs!==null&&vc(Vs,e),ul.forEach(n),cl.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)m_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||p_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(vd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),p_(s)}}}function y_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}Tc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();l_(s,o,e,n,null,null)},Tc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;l_(e.current,2,null,e,null,null),ec(),n[ni]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&m_(e)}};var __=t.version;if(__!=="19.2.3")throw Error(a(527,__,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var aA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Pn=Sc.inject(aA),ke=Sc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Rp,f=wp,g=Ip;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=a_(e,1,!1,null,null,s,o,null,h,f,g,y_),e[ni]=n.current,nd(e),new Td(n)},dl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Rp,g=wp,E=Ip,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=a_(e,1,!0,n,s??null,o,h,w,f,g,E,y_),n.context=o_(null),s=n.current,o=vn(),o=ar(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,sr(n,s),_i(n),e[ni]=n.current,nd(e),new Tc(n)},dl.version="19.2.3",dl}var C_;function pA(){if(C_)return bd.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=gA(),bd.exports}var yA=pA();const _A=()=>{};var D_={};const oE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},vA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let U=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(U=64)),a.push(i[S],i[A],i[U],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(oE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):vA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new EA;const U=c<<2|p>>4;if(a.push(U),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const $=_<<6&192|A;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(r){const t=oE(r);return lE.encodeByteArray(t,!0)},zc=function(r){return TA(r).replace(/\./g,"")},uE=function(r){try{return lE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function SA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AA=()=>SA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof D_>"u")return;const r=D_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uE(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return _A()||AA()||bA()||RA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>rh()?.emulatorHosts?.[r],wA=r=>{const t=cE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},hE=()=>rh()?.config,fE=r=>rh()?.[`_${r}`];class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dE(r){return(await fetch(r,{credentials:"include"})).ok}function CA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const El={};function DA(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function NA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let N_=!1;function mE(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||El[r]===t||El[r]||N_)return;El[r]=t;function i(U){return`__firebase__banner__${U}`}const a="__firebase__banner",c=DA().prod.length>0;function d(){const U=document.getElementById(a);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function y(U,F){U.setAttribute("width","24"),U.setAttribute("id",F),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{N_=!0,d()},U}function S(U,F){U.setAttribute("id",F),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function A(){const U=NA(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const it=U.element;p(it),S(Z,et);const Pt=_();y(_t,ft),it.append(_t,$,Z,Pt),document.body.appendChild(it)}c?($.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function VA(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const BA="FirebaseError";class es extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=BA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new es(l,p,a)}}function jA(r,t){return r.replace(qA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const qA=/\{\$([^}]+)}/g;function HA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Lr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(O_(c)&&O_(d)){if(!Lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}function kl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function gl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function GA(r,t){const i=new FA(r,t);return i.subscribe.bind(i)}class FA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");KA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Cd(){}function en(r){return r&&r._delegate?r._delegate:r}class Pr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class QA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new IA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XA(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(r){return r===Or?void 0:r}function XA(r){return r.instantiationMode==="EAGER"}class ZA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new QA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const JA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},$A=Dt.INFO,WA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},t1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=WA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=$A,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const e1=(r,t)=>t.some(i=>r instanceof i);let V_,M_;function n1(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,jd=new WeakMap,pE=new WeakMap,Dd=new WeakMap,mm=new WeakMap;function s1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(js(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&gE.set(i,r)}).catch(()=>{}),mm.set(t,r),t}function r1(r){if(jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});jd.set(r,t)}let qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||pE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function a1(r){qd=r(qd)}function o1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Nd(this),t,...i);return pE.set(a,t.sort?t.sort():[t]),js(a)}:i1().includes(r)?function(...t){return r.apply(Nd(this),t),js(gE.get(this))}:function(...t){return js(r.apply(Nd(this),t))}}function l1(r){return typeof r=="function"?o1(r):(r instanceof IDBTransaction&&r1(r),e1(r,n1())?new Proxy(r,qd):r)}function js(r){if(r instanceof IDBRequest)return s1(r);if(Dd.has(r))return Dd.get(r);const t=l1(r);return t!==r&&(Dd.set(r,t),mm.set(t,r)),t}const Nd=r=>mm.get(r);function u1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=js(d);return a&&d.addEventListener("upgradeneeded",y=>{a(js(d.result),y.oldVersion,y.newVersion,js(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Od=new Map;function U_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=h1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||c1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Od.set(t,c),c}a1(r=>({...r,get:(t,i,a)=>U_(t,i)||r.get(t,i,a),has:(t,i)=>!!U_(t,i)||r.has(t,i)}));class f1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function d1(r){return r.getComponent()?.type==="VERSION"}const Hd="@firebase/app",L_="0.14.6";const Ji=new dm("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",S1="@firebase/data-connect",A1="@firebase/database-compat",b1="@firebase/functions",R1="@firebase/functions-compat",w1="@firebase/installations",I1="@firebase/installations-compat",C1="@firebase/messaging",D1="@firebase/messaging-compat",N1="@firebase/performance",O1="@firebase/performance-compat",V1="@firebase/remote-config",M1="@firebase/remote-config-compat",U1="@firebase/storage",L1="@firebase/storage-compat",P1="@firebase/firestore",x1="@firebase/ai",k1="@firebase/firestore-compat",z1="firebase",B1="12.6.0";const Gd="[DEFAULT]",j1={[Hd]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[S1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[b1]:"fire-fn",[R1]:"fire-fn-compat",[w1]:"fire-iid",[I1]:"fire-iid-compat",[C1]:"fire-fcm",[D1]:"fire-fcm-compat",[N1]:"fire-perf",[O1]:"fire-perf-compat",[V1]:"fire-rc",[M1]:"fire-rc-compat",[U1]:"fire-gcs",[L1]:"fire-gcs-compat",[P1]:"fire-fst",[k1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};const Bc=new Map,q1=new Map,Fd=new Map;function P_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(Fd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const i of Bc.values())P_(i,r);for(const i of q1.values())P_(i,r);return!0}function gm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Mn(r){return r==null?!1:r.settings!==void 0}const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new xl("app","Firebase",H1);class G1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const eo=B1;function yE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Gd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=hE()),!i)throw qs.create("no-options");const c=Bc.get(l);if(c){if(Lr(i,c.options)&&Lr(a,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new ZA(l);for(const y of Fd.values())d.addComponent(y);const p=new G1(i,a,d);return Bc.set(l,p),p}function _E(r=Gd){const t=Bc.get(r);if(!t&&r===Gd&&hE())return yE();if(!t)throw qs.create("no-app",{appName:r});return t}function Hs(r,t,i){let a=j1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new Pr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const F1="firebase-heartbeat-database",K1=1,wl="firebase-heartbeat-store";let Vd=null;function vE(){return Vd||(Vd=u1(F1,K1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wl)}catch(i){console.warn(i)}}}}).catch(r=>{throw qs.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function Q1(r){try{const i=(await vE()).transaction(wl),a=await i.objectStore(wl).get(EE(r));return await i.done,a}catch(t){if(t instanceof es)Ji.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function x_(r,t){try{const a=(await vE()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,EE(r)),await a.done}catch(i){if(i instanceof es)Ji.warn(i.message);else{const a=qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function EE(r){return`${r.name}!${r.options.appId}`}const Y1=1024,X1=30;class Z1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=k_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>X1){const l=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k_(),{heartbeatsToSend:i,unsentEntries:a}=J1(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function k_(){return new Date().toISOString().substring(0,10)}function J1(r,t=Y1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),z_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Q1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function z_(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function W1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function tb(r){Qa(new Pr("platform-logger",t=>new f1(t),"PRIVATE")),Qa(new Pr("heartbeat",t=>new Z1(t),"PRIVATE")),Hs(Hd,L_,r),Hs(Hd,L_,"esm2020"),Hs("fire-js","")}tb("");function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eb=TE,SE=new xl("auth","Firebase",TE());const jc=new dm("@firebase/auth");function nb(r,...t){jc.logLevel<=Dt.WARN&&jc.warn(`Auth (${eo}): ${r}`,...t)}function Dc(r,...t){jc.logLevel<=Dt.ERROR&&jc.error(`Auth (${eo}): ${r}`,...t)}function Zn(r,...t){throw pm(r,...t)}function Ei(r,...t){return pm(r,...t)}function AE(r,t,i){const a={...eb(),[t]:i};return new xl("auth","Firebase",a).create(t,{appName:r.name})}function Zi(r){return AE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return SE.create(r,...t)}function mt(r,t,...i){if(!r)throw pm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function $i(r,t){r||Yi(t)}function Kd(){return typeof self<"u"&&self.location?.href||""}function ib(){return B_()==="http:"||B_()==="https:"}function B_(){return typeof self<"u"&&self.location?.protocol||null}function sb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ib()||UA()||"connection"in navigator)?navigator.onLine:!0}function rb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=OA()||LA()}get(){return sb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(r,t){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class bE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ab={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ob=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lb=new zl(3e4,6e4);function $s(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ws(r,t,i,a,l={}){return RE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=kl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return MA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),bE.fetch()(await wE(r,r.config.apiHost,i,p),_)})}async function RE(r,t,i){r._canInitEmulator=!1;const a={...ab,...t};try{const l=new cb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ac(r,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw AE(r,S,_);Zn(r,S)}}catch(l){if(l instanceof es)throw l;Zn(r,"network-request-failed",{message:String(l)})}}async function Bl(r,t,i,a,l={}){const c=await Ws(r,t,i,a,l);return"mfaPendingCredential"in c&&Zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function wE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?ym(r.config,l):`${r.config.apiScheme}://${l}`;return ob.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ub(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),lb.get())})}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(r,t,a);return l.customData._tokenResponse=i,l}function j_(r){return r!==void 0&&r.enterprise!==void 0}class hb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ub(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fb(r,t){return Ws(r,"GET","/v2/recaptchaConfig",$s(r,t))}async function db(r,t){return Ws(r,"POST","/v1/accounts:delete",t)}async function qc(r,t){return Ws(r,"POST","/v1/accounts:lookup",t)}function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mb(r,t=!1){const i=en(r),a=await i.getIdToken(t),l=_m(a);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Md(l.auth_time)),issuedAtTime:Tl(Md(l.iat)),expirationTime:Tl(Md(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(r){return Number(r)*1e3}function _m(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=uE(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function q_(r){const t=_m(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof es&&gb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function gb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Il(r,qc(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?IE(l.providerUserInfo):[],d=_b(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function yb(r){const t=en(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _b(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function IE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function vb(r,t){const i=await RE(r,{},async()=>{const a=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await wE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),bE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Eb(r,t){return Ws(r,"POST","/v2/accounts:revokeToken",$s(r,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await vb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ja;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ls(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return mb(this,t)}reload(){return yb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Il(this,db(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:U,isAnonymous:F,providerData:$,stsTokenManager:et}=i;mt(A&&et,t,"internal-error");const Z=ja.fromJSON(this.name,et);mt(typeof A=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),mt(typeof U=="boolean",t,"internal-error"),mt(typeof F=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(y,t.name),Ls(_,t.name),Ls(S,t.name);const ft=new Yn({uid:A,auth:t,email:l,emailVerified:U,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return $&&Array.isArray($)&&(ft.providerData=$.map(_t=>({..._t}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new ja;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?IE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ja;p.updateFromIdToken(a);const y=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const H_=new Map;function Xi(r){$i(r instanceof Function,"Expected a class definition");let t=H_.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,H_.set(r,t),t)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}CE.type="NONE";const G_=CE;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Xi(G_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(G_);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const U=await qc(t,{idToken:S}).catch(()=>{});if(!U)break;A=await Yn._fromGetAccountInfoResponse(t,U,S)}else A=Yn._fromJSON(t,S);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new qa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new qa(c,t,a))}}function F_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UE(t))return"Blackberry";if(LE(t))return"Webos";if(NE(t))return"Safari";if((t.includes("chrome/")||OE(t))&&!t.includes("edge/"))return"Chrome";if(ME(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function DE(r=Je()){return/firefox\//i.test(r)}function NE(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OE(r=Je()){return/crios\//i.test(r)}function VE(r=Je()){return/iemobile/i.test(r)}function ME(r=Je()){return/android/i.test(r)}function UE(r=Je()){return/blackberry/i.test(r)}function LE(r=Je()){return/webos/i.test(r)}function vm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tb(r=Je()){return vm(r)&&!!window.navigator?.standalone}function Sb(){return PA()&&document.documentMode===10}function PE(r=Je()){return vm(r)||ME(r)||LE(r)||UE(r)||/windows phone/i.test(r)||VE(r)}function xE(r,t=[]){let i;switch(r){case"Browser":i=F_(Je());break;case"Worker":i=`${F_(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class Ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function bb(r,t={}){return Ws(r,"GET","/v2/passwordPolicy",$s(r,t))}const Rb=6;class wb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ib{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new Ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Zi(this));const i=t?en(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bb(this),i=new wb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Eb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jr(r){return en(r)}class K_{constructor(t){this.auth=t,this.observer=null,this.addObserver=GA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cb(r){ah=r}function kE(r){return ah.loadJS(r)}function Db(){return ah.recaptchaEnterpriseScript}function Nb(){return ah.gapiScript}function Ob(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Vb{constructor(){this.enterprise=new Mb}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Mb{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Ub="recaptcha-enterprise",zE="NO_RECAPTCHA";class Lb{constructor(t){this.type=Ub,this.auth=jr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{fb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new hb(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;j_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(zE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vb().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&j_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Db();y.length!==0&&(y+=p),kE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Q_(r,t,i,a=!1,l=!1){const c=new Lb(r);let d;if(l)d=zE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Yd(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Q_(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Q_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function Pb(r,t){const i=gm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Lr(c,t??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:t})}function xb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function kb(r,t,i){const a=jr(r);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=BE(t),{host:d,port:p}=zb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(Lr(_,a.config.emulator)&&Lr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,to(d)?(dE(`${c}//${d}${y}`),mE("Auth",!0)):Bb()}function BE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zb(r){const t=BE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Y_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Y_(d)}}}function Y_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Bb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Em{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function jb(r,t){return Ws(r,"POST","/v1/accounts:signUp",t)}async function qb(r,t){return Bl(r,"POST","/v1/accounts:signInWithPassword",$s(r,t))}async function Hb(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",$s(r,t))}async function Gb(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",$s(r,t))}class Cl extends Em{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Cl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Cl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(t,i,"signInWithPassword",qb);case"emailLink":return Hb(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(t,a,"signUpPassword",jb);case"emailLink":return Gb(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ha(r,t){return Bl(r,"POST","/v1/accounts:signInWithIdp",$s(r,t))}const Fb="http://localhost";class xr extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:Fb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=kl(i)}return t}}function Kb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qb(r){const t=ml(gl(r)).link,i=t?ml(gl(t)).deep_link_id:null,a=ml(gl(r)).deep_link_id;return(a?ml(gl(a)).link:null)||a||i||t||r}class Tm{constructor(t){const i=ml(gl(t)),a=i.apiKey??null,l=i.oobCode??null,c=Kb(i.mode??null);mt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Qb(t);try{return new Tm(i)}catch{return null}}}class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(t,i){return Cl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Tm.parseLink(i);return mt(a,"argument-error"),Cl._fromEmailAndCode(t,a.code,a.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends jl{constructor(){super("facebook.com")}static credential(t){return xr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class xs extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xr._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return xs.credential(i,a)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";class ks extends jl{constructor(){super("github.com")}static credential(t){return xr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class zs extends jl{constructor(){super("twitter.com")}static credential(t,i){return xr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function Yb(r,t){return Bl(r,"POST","/v1/accounts:signUp",$s(r,t))}class kr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Yn._fromIdTokenResponse(t,a,l),d=X_(a);return new kr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=X_(a);return new kr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function X_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Gc extends es{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Gc(t,i,a,l)}}function qE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,c,t,a):c})}async function Xb(r,t,i=!1){const a=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return kr._forOperation(r,"link",a)}async function Zb(r,t,i=!1){const{auth:a}=r;if(Mn(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await Il(r,qE(a,l,t,r),i);mt(c.idToken,a,"internal-error");const d=_m(c.idToken);mt(d,a,"internal-error");const{sub:p}=d;return mt(r.uid===p,a,"user-mismatch"),kr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function HE(r,t,i=!1){if(Mn(r.app))return Promise.reject(Zi(r));const a="signIn",l=await qE(r,a,t),c=await kr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Jb(r,t){return HE(jr(r),t)}async function GE(r){const t=jr(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $b(r,t,i){if(Mn(r.app))return Promise.reject(Zi(r));const a=jr(r),d=await Yd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yb).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&GE(r),y}),p=await kr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function Wb(r,t,i){return Mn(r.app)?Promise.reject(Zi(r)):Jb(en(r),no.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&GE(r),a})}function tR(r,t,i,a){return en(r).onIdTokenChanged(t,i,a)}function eR(r,t,i){return en(r).beforeAuthStateChanged(t,i)}function nR(r,t,i,a){return en(r).onAuthStateChanged(t,i,a)}function iR(r){return en(r).signOut()}const Fc="__sak";class FE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sR=1e3,rR=10;class KE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,rR):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}KE.type="LOCAL";const aR=KE;class QE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}QE.type="SESSION";const YE=QE;function oR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await oR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Sm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class lR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Sm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const U=A;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function uR(r){Ti().location.href=r}function XE(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function cR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hR(){return navigator?.serviceWorker?.controller||null}function fR(){return XE()?self:null}const ZE="firebaseLocalStorageDb",dR=1,Kc="firebaseLocalStorage",JE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function mR(){const r=indexedDB.deleteDatabase(ZE);return new ql(r).toPromise()}function Xd(){const r=indexedDB.open(ZE,dR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kc,{keyPath:JE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kc)?t(a):(a.close(),await mR(),t(await Xd()))})})}async function Z_(r,t,i){const a=lh(r,!0).put({[JE]:t,value:i});return new ql(a).toPromise()}async function gR(r,t){const i=lh(r,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function J_(r,t){const i=lh(r,!0).delete(t);return new ql(i).toPromise()}const pR=800,yR=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>yR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(fR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await Z_(t,Fc,"1"),await J_(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Z_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>J_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const _R=$E;new zl(3e4,6e4);function vR(r,t){return t?Xi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Am extends Em{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ER(r){return HE(r.auth,new Am(r),r.bypassAuthState)}function TR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),Zb(i,new Am(r),r.bypassAuthState)}async function SR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),Xb(i,new Am(r),r.bypassAuthState)}class WE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return SR;case"reauthViaPopup":case"reauthViaRedirect":return TR;default:Zn(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AR=new zl(2e3,1e4);class Ba extends WE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AR.get())};t()}}Ba.currentPopupAction=null;const bR="pendingRedirect",Oc=new Map;class RR extends WE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await wR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wR(r,t){const i=DR(t),a=CR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function IR(r,t){Oc.set(r._key(),t)}function CR(r){return Xi(r._redirectPersistence)}function DR(r){return Nc(bR,r.config.apiKey,r.name)}async function NR(r,t,i=!1){if(Mn(r.app))return Promise.reject(Zi(r));const a=jr(r),l=vR(a,t),d=await new RR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const OR=600*1e3;class VR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!tT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OR&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function tT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function MR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(r);default:return!1}}async function UR(r,t={}){return Ws(r,"GET","/v1/projects",t)}const LR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function xR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await UR(r);for(const i of t)try{if(kR(i))return}catch{}Zn(r,"unauthorized-domain")}function kR(r){const t=Kd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!PR.test(i))return!1;if(LR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const zR=new zl(3e4,6e4);function W_(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function BR(r){return new Promise((t,i)=>{function a(){W_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{W_(),i(Ei(r,"network-request-failed"))},timeout:zR.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=Ob("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(r,"network-request-failed"))},kE(`${Nb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function jR(r){return Vc=Vc||BR(r),Vc}const qR=new zl(5e3,15e3),HR="__/auth/iframe",GR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QR(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ym(t,GR):`https://${r.config.authDomain}/${HR}`,a={apiKey:t.apiKey,appName:r.name,v:eo},l=KR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${kl(a).slice(1)}`}async function YR(r){const t=await jR(r),i=Ti().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:QR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},qR.get());function y(){Ti().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZR=500,JR=600,$R="_blank",WR="http://localhost";class tv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tw(r,t,i,a=ZR,l=JR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...XR,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=OE(_)?$R:i),DE(_)&&(t=t||WR,y.scrollbars="yes");const S=Object.entries(y).reduce((U,[F,$])=>`${U}${F}=${$},`,"");if(Tb(_)&&p!=="_self")return ew(t||"",p),new tv(null);const A=window.open(t||"",p,S);mt(A,r,"popup-blocked");try{A.focus()}catch{}return new tv(A)}function ew(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const nw="__/auth/handler",iw="emulator/auth/handler",sw=encodeURIComponent("fac");async function ev(r,t,i,a,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof jE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",HA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof jl){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await r._getAppCheckToken(),_=y?`#${sw}=${encodeURIComponent(y)}`:"";return`${rw(r)}?${kl(p).slice(1)}${_}`}function rw({config:r}){return r.emulator?ym(r,iw):`https://${r.authDomain}/${nw}`}const Ud="webStorageSupport";class aw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=NR,this._overrideRedirectResult=IR}async _openPopup(t,i,a,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ev(t,i,a,Kd(),l);return tw(t,c,Sm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await ev(t,i,a,Kd(),l);return uR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await YR(t),a=new VR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return PE()||NE()||vm()}}const ow=aw;var nv="@firebase/auth",iv="1.11.1";class lw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cw(r){Qa(new Pr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(r)},_=new Ib(a,l,c,y);return xb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Pr("auth-internal",t=>{const i=jr(t.getProvider("auth").getImmediate());return(a=>new lw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(nv,iv,uw(r)),Hs(nv,iv,"esm2020")}const hw=300,fw=fE("authIdTokenMaxAge")||hw;let sv=null;const dw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>fw)return;const l=i?.token;sv!==l&&(sv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function mw(r=_E()){const t=gm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Pb(r,{popupRedirectResolver:ow,persistence:[_R,aR,YE]}),a=fE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=dw(c.toString());eR(i,d,()=>d(i.currentUser)),tR(i,p=>d(p))}}const l=cE("auth");return l&&kb(i,`http://${l}`),i}function gw(){return document.getElementsByTagName("head")?.[0]??document}Cb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",gw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cw("Browser");var pw="firebase",yw="12.6.0";Hs(pw,yw,"app");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,eT;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,L){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],R;R=b+(L^I&(N^L))+V[0]+3614090360&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[1]+3905402710&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[4]+4118548399&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[5]+1200080426&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[8]+1770035416&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[9]+2336552879&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[12]+1804603682&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[13]+4254626195&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(N^L&(I^N))+V[1]+4129170786&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[6]+3225465664&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[5]+3593408605&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[10]+38016083&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[9]+568446438&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[14]+3275163606&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[13]+2850285829&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[2]+4243563512&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(I^N^L)+V[5]+4294588738&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[8]+2272392833&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[1]+2763975236&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[4]+1272893353&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[13]+681279174&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[0]+3936430074&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[9]+3654602809&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[12]+3873151461&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(N^(I|~L))+V[0]+4096336452&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[7]+1126891415&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[12]+1700485571&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[3]+2399980690&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[8]+1873313359&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[15]+4264355552&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[4]+4149444226&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[11]+3174756917&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<b;)if(V[N++]=C[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==b||(I[N]=L,V=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return Z(_(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let V=A;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+N),b);N<8?(N=_(Math.pow(b,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=y(0),U=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(et(this))return"-"+Z(this).toString(C);const b=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=Pt(I,b).g;I=ft(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ft(this,C),et(C)?-1:$(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(U)}r.abs=function(){return et(this)?Z(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,b){return C.add(Z(b))}r.j=function(C){if($(this)||$(C))return A;if(et(this))return et(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(et(C))return Z(this.j(Z(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*V+2*N]+=R*Ie,_t(I,2*V+2*N),I[2*V+2*N+1]+=L*Ie,_t(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ie,_t(I,2*V+2*N+1),I[2*V+2*N+2]+=L*ie,_t(I,2*V+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function it(C,b){this.g=C,this.h=b}function Pt(C,b){if($(b))throw Error("division by zero");if($(C))return new it(A,A);if(et(C))return b=Pt(Z(C),b),new it(Z(b.g),Z(b.h));if(et(b))return b=Pt(C,Z(b)),new it(Z(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=U,V=b;V.l(C)<=0;)I=kt(I),V=kt(V);var N=Vt(I,1),L=Vt(V,1);for(V=Vt(V,2),I=Vt(I,2);!$(V);){var R=L.add(V);R.l(C)<=0&&(N=N.add(I),L=R),V=Vt(V,1),I=Vt(I,1)}return b=ft(C,N.j(b)),new it(N,b)}for(N=A;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),R=L.j(b);et(R)||R.l(C)>0;)I-=V,L=_(I),R=L.j(b);$(L)&&(L=U),N=N.add(L),C=ft(C,R)}return new it(N,C)}r.B=function(C){return Pt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function kt(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Vt(C,b){const I=b>>5;b%=32;const V=C.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Gs=d}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nT,pl,iT,Mc,Zd,sT,rT,aT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[P].apply(T,J)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let J=0;J<B;J++)u[v+J]=P[J]}else u.push(P)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=it.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let kt,Vt=!1,C=new _t,b=()=>{const u=Promise.resolve(void 0);kt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=it;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,P);return J>-1?(m=u[J],v||(m.fa=!1)):(m=new W(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,P);return null}return v=uo(v),u&&u[Ie]?u.J(m,v,p(T)?!!T.capture:!1,P):tr(u,m,v,!1,T,P)}function tr(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const J=p(P)?!!P.capture:!!P;let Tt=er(u);if(Tt||(u[Ut]=Tt=new rt(u)),v=Tt.add(m,v,T,J,B),v.proxy)return v;if(T=Kr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=J),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=oo;return u}function Qr(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qr(u,m[B],v,T,P);else T=p(T)?!!T.capture:!!T,v=uo(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,P),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,P)),(v=u>-1?m[u]:null)&&Yr(v))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=er(m))?(pt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ct(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=v.call(T,m)}return u}function er(u){return u=u[Ut],u instanceof rt?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(ge,V),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Qr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),tt(m,P)}P=!0;let B,J;if(v)for(J=v.length-1;J>=0;J--)B=m.g=v[J],P=ns(B,T,!0,m)&&P;if(B=m.g=u,P=ns(B,T,!0,m)&&P,P=ns(B,T,!1,m)&&P,v)for(J=0;J<v.length;J++)B=m.g=v[J],P=ns(B,T,!1,m)&&P}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ns(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==v){const Tt=J.listener,he=J.ha||J.src;J.fa&&pt(u.i,J),P=Tt.call(he,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yl(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){V.call(this),this.h=u,this.g={}}A(nr,V);var co=[];function ho(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Yr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),ho(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,bh=d.JSON.parse,Xl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}A(ke,N);function En(){N.call(this,"c")}A(En,N);var ce={},$l=null;function Xr(){return $l=$l||new ge}ce.Ia="serverreachability";function Wl(u){N.call(this,ce.Ia,u)}A(Wl,N);function $n(u){const m=Xr();De(m,new Wl(m))}ce.STAT_EVENT="statevent";function ir(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}A(ir,N);function pe(u){const m=Xr();De(m,new ir(m,u))}ce.Ja="timingevent";function Wn(u,m){N.call(this,ce.Ja,u),this.size=m}A(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Rh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var he=Tt[jt].split("=");if(he.length>1){const re=he[0];he=he[1];const bn=re.split("_");J=bn.length>=2&&bn[1]=="type"?J+(re+"="+he+"&"):J+(re+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+J})}function tu(u,m,v,T,P,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+J})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wh(u,v)+(T?" "+T:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function wh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return is(B)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function ar(){}A(ar,Zl),ar.prototype.g=function(){return new XMLHttpRequest},mo=new ar;function Di(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ni(u,m,v){u.M=1,u.A=or(ve(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ii(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(co[0]=P.toString()),P=co);for(let B=0;B<P.length;B++){const J=se(v,P[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),he=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||he==7||(he==8||jt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var v=Ih(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=iu(this,v),re==Me){Tt==4&&(this.m=4,pe(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ri(this,re);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(J),J.P=!0,pe(11))}}else ei(this.i,this.l,v,null),ri(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?fu(this.j,this):(this.o=!1,ii(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),Tn(this)}}}catch{}finally{}};function Ih(u){if(!nu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,P=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ii(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&($n(),pe(17)),hn(this),this.m=2,Tn(this)):Jr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||fu(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ra(v),hs(v);else break t;mr(v),pe(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&ra(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const re=jt[0];if(!(re<=v.K))if(v.K=re,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const bn=jt[3];bn!=null&&(v.ka=bn,v.j.info("VER="+v.ka));const mi=jt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=T.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yo(B,B.h),B.h=null))}if(T.G){const aa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Ft(T.J,T.G,aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var J=u;if(T.na=gu(T,T.L?T.ba:null,T.W),J.L){_o(T.h,J);var Tt=J,he=T.O;he&&(Tt.H=he),Tt.D&&(si(Tt),ii(Tt)),T.g=J}else cu(T);v.i.length>0&&fi(v)}else jt[0]!="stop"&&jt[0]!="close"||di(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?di(v,7):Io(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,Eo(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Wr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Wr,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?To:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,au)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let J=0;J<P.length;){const Tt=P[J++];Tt=="."?T&&J==P.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==P.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Eo(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new fn(u)}function Ue(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof as?(u.i=m,ea(u.i,u.l)):(v||(m=lr(m,rs)),u.i=new as(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function or(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,ru=/[#\?:]/g,To=/[#\?]/g,rs=/[#\?@]/g,au=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&$r(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=as.prototype,r.add=function(u,m){sn(this),this.i=null,u=os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){sn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return sn(u),m=os(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ao(u,m){sn(u);let v=[];if(typeof m=="string")So(u,m)&&(v=v.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=os(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(os(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Di(v);v=Ao(this,v);for(let B=0;B<v.length;B++){let J=P;v[B]!==""&&(J+="="+Di(v[B])),u.push(J)}}return this.i=u.join("&")};function lu(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(ou(this,T),ta(this,P,v))},u)),u.j=m}function Bn(u,m){const v=new xn;if(d.Image){const T=new Image;T.onload=S(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Sn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const v=new xn,T=new AbortController,P=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ls(){this.g=new Xl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ui,Zl),ui.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ur,ge),r=ur.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):jn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},r.Na=function(u){this.g&&(this.response=u,us(this))},r.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return xt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function cr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&Di(v):Ft(u,m,v))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Yt,ge);var ci=/^https?$/i,Ro=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of v)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hr(this,B)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Ni(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},r.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let J=String(u.D).match(su)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=qn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",wo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=eu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),fi(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,v=ve(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),dr(u,v),m=new kn(u,u.j,m),m.M=2,m.A=or(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}mu(u)}function hs(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;kt||b(),Vt||(kt(),Vt=!0),C.add(m,u),u.D=0}}function sa(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,P,m),v=ve(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),dr(this,v),B&&(this.R?m="headers="+Di(An(B))+"&"+m:this.u&&cr(v,this.u,B)),yo(this.h,P),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),P.U=!0,ni(P,v,null)):ni(P,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),dr(u,T),u.u&&u.o&&cr(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),ni(v,T,m)}function dr(u,m){u.H&&xt(u.H,function(v,T){Ft(m,T,v)}),u.l&&xt({},function(v,T){Ft(m,T,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=P[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let jt=!0;for(let re=0;re<v;re++){var B=P[re].g;const bn=P[re].map;if(B-=Tt,B<0)Tt=Math.max(0,P[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[mi,Hn]of J){let Gn=Hn;p(Hn)&&(Gn=is(Hn)),he.push(B+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw he.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(jt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,v),m.G=u,J}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;kt||b(),Vt||(kt(),Vt=!0),C.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hs(this),hu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=or(ve(m)),v.u=null,v.R=!0,Zr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,hs(this),mr(this),pe(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){ra(u),Do(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,_o(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Xr(),De(T,new Wn(T,v)),fi(u)}else cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),or(T),P?Bn(T.toString(),v):bo(T.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),mu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof fn?ve(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),P&&ss(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),dr(u,T),T}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ui({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Io(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=is(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,We.Z.N.call(this)};function _u(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(_u,ke);function vu(){En.call(this),this.status=1}A(vu,En);function Vi(u){this.g=u}A(Vi,yu),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new _u(u))},Vi.prototype.pa=function(u){De(this.g,new vu)},Vi.prototype.oa=function(){De(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,aT=function(){return new fs},rT=function(){return Xr()},sT=ce,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Mc=rr,fo.COMPLETE="complete",iT=fo,Jl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,pl=Jl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,nT=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",ov="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.3.0";const zr=new dm("@firebase/firestore");function Pa(){return zr.logLevel}function st(r,...t){if(zr.logLevel<=Dt.DEBUG){const i=t.map(bm);zr.debug(`Firestore (${io}): ${r}`,...i)}}function Wi(r,...t){if(zr.logLevel<=Dt.ERROR){const i=t.map(bm);zr.error(`Firestore (${io}): ${r}`,...i)}}function Ya(r,...t){if(zr.logLevel<=Dt.WARN){const i=t.map(bm);zr.warn(`Firestore (${io}): ${r}`,...i)}}function bm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,oT(r,a,i)}function oT(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||oT(t,l,a)}function Et(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class lT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class vw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ew{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new lT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Tw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Tw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function Jd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Nt(l,c):Ld(l)?1:-1}return Nt(r.length,t.length)}const Rw=55296,ww=57343;function Ld(r){const t=r.charCodeAt(0);return t>=Rw&&t<=ww}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const uv="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ee extends vi{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return Iw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Fe([uv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}function uT(r,t,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Cw(r,t,i,a){if(t===!0&&a===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function cv(r){if(!ht.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hv(r){if(ht.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ga(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function we(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!cT(r))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}const fv=-62135596800,dv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*dv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<fv)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function Dw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Ks(l,ht.empty(),t)}function Nw(r){return new Ks(r.readTime,r.key,Dl)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(yt.min(),ht.empty(),Dl)}static max(){return new Ks(yt.max(),ht.empty(),Dl)}}function Ow(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const Vw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Vw)throw r;st("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Uw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Im=-1;function ch(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function Lw(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hT="";function Pw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=mv(t)),t=xw(r.get(i),t);return mv(t)}function xw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case hT:i+="";break;default:i+=c}}return i}function mv(r){return r+hT+""}function gv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function qr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function fT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=kw.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ys(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const mT="server_timestamp",gT="__type__",pT="__previous_value__",yT="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[gT]?.stringValue===mT}function hh(r){const t=r.mapValue.fields[pT];return Cm(t)?hh(t):t}function Nl(r){const t=Qs(r.mapValue.fields[yT].timestampValue);return new ne(t.seconds,t.nanos)}class zw{constructor(t,i,a,l,c,d,p,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Yc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const _T="__type__",Bw="__max__",wc={mapValue:{}},vT="__vector__",Xc="value";function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:qw(r)?9007199254740991:jw(r)?10:11:gt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Xs(r);if(i!==Xs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qs(l.timestampValue),p=Qs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ys(l.bytesValue).isEqual(Ys(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ii(d[y],p[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=Xs(r),a=Xs(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),y=me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return yv(r.timestampValue,t.timestampValue);case 4:return yv(Nl(r),Nl(t));case 5:return Jd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ys(c),y=Ys(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Nt(p[_],y[_]);if(S!==0)return S}return Nt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(me(c.latitude),me(d.latitude));return p!==0?p:Nt(me(c.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return _v(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,S=y[Xc]?.arrayValue,A=Nt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:_v(_,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const U=Jd(y[A],S[A]);if(U!==0)return U;const F=Za(p[y[A]],_[S[A]]);if(F!==0)return F}return Nt(y.length,S.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function yv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Qs(r),a=Qs(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function _v(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function Ja(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Qs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ys(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=$d(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${$d(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Uc(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return qr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Wd(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function vv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function jw(r){return(r?.mapValue?.fields||{})[_T]?.stringValue===vT}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function qw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bw}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){qr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Un(Sl(this.value))}}function ET(r){const t=[];return qr(r.fields,((i,a)=>{const l=new Fe([i]);if(Lc(a)){const c=ET(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,yt.min(),yt.min(),yt.min(),Un.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,yt.min(),yt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,yt.min(),yt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Tv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Hw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class TT{}class Oe extends TT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fw(t,i,a):i==="array-contains"?new Yw(t,a):i==="in"?new Xw(t,a):i==="not-in"?new Zw(t,a):i==="array-contains-any"?new Jw(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Kw(t,a):new Qw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends TT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return ST(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ST(r){return r.op==="and"}function AT(r){return Gw(r)&&ST(r)}function Gw(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function tm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(AT(r))return r.filters.map((t=>tm(t))).join(",");{const t=r.filters.map((i=>tm(i))).join(",");return`${r.op}(${t})`}}function bT(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(r,t):r instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&bT(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function RT(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(RT).join(" ,")+"}"})(r):"Filter"}class Fw extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Kw extends Oe{constructor(t,i){super(t,"in",i),this.keys=wT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Qw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=wT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function wT(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Yw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Vl(i.arrayValue,this.value)}}class Xw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class Zw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class Jw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class $w{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(r,t=null,i=[],a=[],l=null,c=null,d=null){return new $w(r,t,i,a,l,c,d)}function Nm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>tm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Om(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Hw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!bT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Sv(r.startAt,t.startAt)&&Sv(r.endAt,t.endAt)}function em(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ww(r,t,i,a,l,c,d,p){return new fh(r,t,i,a,l,c,d,p)}function Vm(r){return new fh(r)}function bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tI(r){return r.collectionGroup!==null}function Al(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Jc(Fe.keyField(),a))}return t.Ie}function Si(r){const t=Et(r);return t.Ee||(t.Ee=eI(t,Al(r))),t.Ee}function eI(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function nm(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return Om(Si(r),Si(t))&&r.limitType===t.limitType}function IT(r){return`${Nm(Si(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>RT(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Al(a),l))})(r,t)}function nI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CT(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=iI(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iI(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Za(y,_):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Hr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}const sI=new oe(ht.comparator);function ts(){return sI}const DT=new oe(ht.comparator);function yl(...r){let t=DT;for(const i of r)t=t.insert(i.key,i);return t}function NT(r){let t=DT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return bl()}function OT(){return bl()}function bl(){return new Hr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const rI=new oe(ht.comparator),aI=new Ve(ht.comparator);function Ot(...r){let t=aI;for(const i of r)t=t.add(i);return t}const oI=new Ve(Nt);function lI(){return oI}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function VT(r){return{integerValue:""+r}}function uI(r,t){return Lw(t)?VT(t):Mm(r,t)}class gh{constructor(){this._=void 0}}function cI(r,t,i){return r instanceof $c?(function(l,c){const d={fields:{[gT]:{stringValue:mT},[yT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cm(c)&&(c=hh(c)),c&&(d.fields[pT]=c),{mapValue:d}})(i,t):r instanceof Ml?UT(r,t):r instanceof Ul?LT(r,t):(function(l,c){const d=MT(l,c),p=Rv(d)+Rv(l.Ae);return Wd(d)&&Wd(l.Ae)?VT(p):Mm(l.serializer,p)})(r,t)}function hI(r,t,i){return r instanceof Ml?UT(r,t):r instanceof Ul?LT(r,t):i}function MT(r,t){return r instanceof Wc?(function(a){return Wd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends gh{}class Ml extends gh{constructor(t){super(),this.elements=t}}function UT(r,t){const i=PT(t);for(const a of r.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends gh{constructor(t){super(),this.elements=t}}function LT(r,t){let i=PT(t);for(const a of r.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Wc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(r){return me(r.integerValue||r.doubleValue)}function PT(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fI(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof Ul&&l instanceof Ul?Xa(a.elements,l.elements,Ii):a instanceof Wc&&l instanceof Wc?Ii(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(r.transform,t.transform)}class dI{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ph{}function xT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,Ai.none()):new Gl(r.key,r.data,Ai.none());{const i=r.data,a=Un.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(r.key,a,new Xn(l.toArray()),Ai.none())}}function mI(r,t,i){r instanceof Gl?(function(l,c,d){const p=l.value.clone(),y=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Gr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(kT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Gl?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),S=Cv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Gr?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=Cv(c.fieldTransforms,y,d),S=d.data;return S.setAll(kT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function gI(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=MT(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>fI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Iv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,hI(d,p,i[l]))}return a}function Cv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,cI(c,d,t))}return a}class Um extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=OT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=xT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>wv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>wv(i,a)))}}class Lm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return rI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Lm(t,i,a,l)}}class _I{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vI{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Lt;function EI(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function zT(r){if(r===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(r){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=be||(be={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function TI(){return new TextEncoder}const SI=new Gs([4294967295,4294967295],0);function Dv(r){const t=TI().encode(r),i=new eT;return i.update(t),new Uint8Array(i.digest())}function Nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,a],0),new Gs([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gs.fromNumber(a)));return l.compare(SI)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(yt.min(),l,new oe(Nt),ts(),Ot())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,Ot(),Ot(),Ot())}}class xc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class BT{constructor(t,i){this.targetId=t,this.Ce=i}}class jT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(em(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ys(a).toUint8Array()}catch(y){if(y instanceof dT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Pm(d,l,c)}catch(y){return Ya(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&em(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ye,this.je,a);return this.je=ts(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new oe(ht.comparator)}function Vv(){return new oe(ht.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wI={and:"AND",or:"OR"};class II{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CI(r,t){return th(r,t.toTimestamp())}function bi(r){return Ht(!!r,49232),yt.fromTimestamp((function(i){const a=Qs(i);return new ne(a.seconds,a.nanos)})(r))}function xm(r,t){return sm(r,t).canonicalString()}function sm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function HT(r){const t=ee.fromString(r);return Ht(YT(t),10190,{key:t.toString()}),t}function rm(r,t){return xm(r.databaseId,t.path)}function Pd(r,t){const i=HT(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(FT(i))}function GT(r,t){return xm(r.databaseId,t)}function DI(r){const t=HT(r);return t.length===4?ee.emptyPath():FT(t)}function am(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mv(r,t,i){return{name:rm(r,t),fields:i.value.mapValue.fields}}function NI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ht(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:zT(_.code);return new lt(S,_.message||"")})(d);i=new jT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(r,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):yt.min(),p=new Un({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new xc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(r,a.document),c=a.readTime?bi(a.readTime):yt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(r,a.document),c=a.removedTargetIds||[];i=new xc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vI(l,c),p=a.targetId;i=new BT(p,d)}}return i}function OI(r,t){let i;if(t instanceof Gl)i={update:Mv(r,t.key,t.value)};else if(t instanceof Um)i={delete:rm(r,t.key)};else if(t instanceof Gr)i={update:Mv(r,t.key,t.data),updateMask:BI(t.fieldMask)};else{if(!(t instanceof pI))return gt(16599,{Vt:t.type});i={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:CI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function VI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(yt.min())&&(d=bi(c)),new dI(d,l.transformResults||[])})(i,t)))):[]}function MI(r,t){return{documents:[GT(r,t.path)]}}function UI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GT(r,l);const c=(function(_){if(_.length!==0)return QT(Ci.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(U){return{field:ka(U.field),direction:xI(U.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function LI(r){let t=DI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const U=KT(A);return U instanceof Ci&&AT(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((U=>(function($){return new Jc(za($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let U;return U=typeof A=="object"?A.value:A,ch(U)?null:U})(i.limit));let y=null;i.startAt&&(y=(function(A){const U=!!A.before,F=A.values||[];return new Zc(F,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const U=!A.before,F=A.values||[];return new Zc(F,U)})(i.endAt)),Ww(t,l,d,c,p,"F",y,_)}function PI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>KT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function xI(r){return bI[r]}function kI(r){return RI[r]}function zI(r){return wI[r]}function ka(r){return{fieldPath:r.canonicalString()}}function za(r){return Fe.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Ev(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(vv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ev(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(vv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:kI(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((l=>QT(l)));return a.length===1?a[0]:{compositeFilter:{op:zI(i.op),filters:a}}})(r):gt(54877,{filter:r})}function BI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jI{constructor(t){this.yt=t}}function qI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}class HI{constructor(){this.Cn=new GI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ks.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class GI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(XT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const Lv="LruGarbageCollector",FI=1048576;function Pv([r,t],[i,a]){const l=Nt(r,i);return l===0?Nt(t,a):l}class KI{constructor(t){this.Ir=t,this.buffer=new Ve(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?st(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class YI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(uh.ce);const a=new KI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Pa()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function XI(r,t){return new YI(r,t)}class ZI{constructor(){this.changes=new Hr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class $I{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ts();const d=bl(),p=(function(){return bl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Gr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Rl(S.mutation,_,S.mutation.getFieldMask(),ne.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new JI(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||Xn.empty();S=p.applyToLocalView(_,S),a.set(y,S);const A=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,A=OT();S.forEach((U=>{if(!c.has(U)){const F=xT(i.get(U),a.get(U));F!==null&&A.set(U,F),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(Vr());let p=Dl,y=c;return d.next((_=>Y.forEach(_,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((U=>{y=y.insert(S,U)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((S=>({batchId:p,changes:NT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(y=>{const _=(function(A,U){return new fh(U,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((A,U)=>{d=d.insert(A,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let p=yl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Rl(S.mutation,_,Xn.empty(),ne.now()),mh(i,_)&&(p=p.insert(y,_))})),p}))}}class WI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qI(l.bundledQuery),readTime:bi(l.readTime)}})(i)),Y.resolve()}}class tC{constructor(){this.overlays=new oe(ht.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Vr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Vr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _I(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class eC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class km{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ee([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ee([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class nC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iC{constructor(t){this.ri=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ts();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ow(Nw(S),a)<=0||(l.has(S.key)||mh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sC(this)}getSize(t){return Y.resolve(this.size)}}class sC extends ZI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rC{constructor(t){this.persistence=t,this.si=new Hr((i=>Nm(i)),Om),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class ZT{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new eC,this.referenceDelegate=t(this),this.Pi=new rC(this),this.indexManager=new HI,this.remoteDocumentCache=(function(l){return new iC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new jI(i),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new nC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new aC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class aC extends Mw{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new km,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Hr((a=>Pw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=XI(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xA()?8:Uw(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Pa()<=Dt.DEBUG&&st("QueryEngine","Query:",xa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):Y.resolve())}ys(t,i){if(bv(i))return Y.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,nm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return bv(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(Pa()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,Dw(l,Dl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(CT(t));return i.forEach(((l,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",uC=3e8;class cC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new Hr((c=>Nm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $I(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hC(r,t,i,a){return new cC(r,t,i,a)}async function JT(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function fC(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const A=_.batch,U=A.keys();let F=Y.resolve();return U.forEach(($=>{F=F.next((()=>S.getEntry(y,$))).next((et=>{const Z=_.docVersions.get($);Ht(Z!==null,48541),et.version.compareTo(Z)<0&&(A.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),S.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function $T(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dC(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,A)=>{const U=l.get(A);if(!U)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let F=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),l=l.insert(A,F),(function(et,Z,ft){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=uC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(U,F,S)&&p.push(i.Pi.updateTargetData(c,F))}));let y=ts(),_=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(mC(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(yt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function mC(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ts();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function gC(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pC(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function om(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;st(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function xv(r,t,i){const a=Et(r);let l=yt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=Et(y),U=A.xs.get(S);return U!==void 0?Y.resolve(A.Ms.get(U)):A.Pi.getTargetData(_,S)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(yC(a,nI(t),p),{documents:p,Qs:c})))))}function yC(r,t,i){let a=r.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class kv{constructor(){this.activeTargetIds=lI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _C{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vC{Oo(t){}shutdown(){}}const zv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(zv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function lm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const xd="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=lm(),p=this.zo(t,i.toUriEncodedString());st(xd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=to(_);return this.Jo(t,p,y,a,S).then((A=>(st(xd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ya(xd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=EC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class SC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class AC extends TC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=lm();return new Promise(((p,y)=>{const _=new nT;_.setWithCredentials(!0),_.listenOnce(iT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const A=_.getResponseJson();st(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Mc.TIMEOUT:st(Ye,`RPC '${t}' ${d} timed out`),y(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const U=_.getStatus();if(st(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const et=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})($.status);y(new lt(et,$.message))}else y(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new lt(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=aT(),p=rT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");st(Ye,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let U=!1,F=!1;const $=new SC({Yo:Z=>{F?st(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(U||(st(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),U=!0),st(Ye,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),et=(Z,ft,_t)=>{Z.listen(ft,(it=>{try{_t(it)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(A,pl.EventType.OPEN,(()=>{F||(st(Ye,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),et(A,pl.EventType.CLOSE,(()=>{F||(F=!0,st(Ye,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(A))})),et(A,pl.EventType.ERROR,(Z=>{F||(F=!0,Ya(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),et(A,pl.EventType.MESSAGE,(Z=>{if(!F){const ft=Z.data[0];Ht(!!ft,16349);const _t=ft,it=_t?.error||_t[0]?.error;if(it){st(Ye,`RPC '${t}' stream ${l} received error:`,it);const Pt=it.status;let kt=(function(b){const I=be[b];if(I!==void 0)return zT(I)})(Pt),Vt=it.message;kt===void 0&&(kt=X.INTERNAL,Vt="Unknown error status: "+Pt+" with message "+it.message),F=!0,$.a_(new lt(kt,Vt)),A.close()}else st(Ye,`RPC '${t}' stream ${l} received:`,ft),$.u_(ft)}})),et(p,sT.STAT_EVENT,(Z=>{Z.stat===Zd.PROXY?st(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Zd.NOPROXY&&st(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function kd(){return typeof document<"u"?document:null}function _h(r){return new II(r,!0)}class WT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jv="PersistentStream";class t0{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends t0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=NI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?bi(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=em(y)?{documents:MI(c,y)}:{query:UI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qT(c,d.resumeToken);const _=im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const _=im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=PI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.q_(i)}}class RC extends t0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=VI(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>OI(this.serializer,a)))};this.q_(i)}}class wC{}class IC extends wC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class DC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(st(Br,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vh(_)})(this))}))})),this.Ra=new CC(a,l)}}async function vh(r){if(Fr(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function e0(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):ao(i).O_()&&Hm(i,t))}function qm(r,t){const i=Et(r),a=ao(i);i.Ia.delete(t),a.O_()&&n0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function n0(r,t){r.Va.Ue(t),ao(r).Z_(t)}function Gm(r){r.Va=new AI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function Fm(r){return Fr(r)&&!ao(r).x_()&&r.Ia.size>0}function Fr(r){return Et(r).Ea.size===0}function i0(r){r.Va=void 0}async function NC(r){r.Ra.set("Online")}async function OC(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function VC(r,t){i0(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function MC(r,t,i){if(r.Ra.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){st(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof xc?r.Va.Ze(t):t instanceof BT?r.Va.st(t):r.Va.tt(t),!i.isEqual(yt.min()))try{const a=await $T(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),n0(c,y);const A=new Bs(S.target,y,_,S.sequenceNumber);Hm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Br,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!ro(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>$T(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Br,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vh(r)}))}function s0(r,t){return t().catch((i=>nh(r,i,t)))}async function Eh(r){const t=Et(r),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;UC(t);)try{const l=await gC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,LC(t,l)}catch(l){await nh(t,l)}r0(t)&&a0(t)}function UC(r){return Fr(r)&&r.Ta.length<10}function LC(r,t){r.Ta.push(t);const i=Zs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function r0(r){return Fr(r)&&!Zs(r).x_()&&r.Ta.length>0}function a0(r){Zs(r).start()}async function PC(r){Zs(r).ra()}async function xC(r){const t=Zs(r);for(const i of r.Ta)t.ea(i.mutations)}async function kC(r,t,i){const a=r.Ta.shift(),l=Lm.from(a,t,i);await s0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Eh(r)}async function zC(r,t){t&&Zs(r).X_&&await(async function(a,l){if((function(d){return EI(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Zs(a).B_(),await s0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(a)}})(r,t),r0(r)&&a0(r)}async function qv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),st(Br,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function BC(r,t){const i=Et(r);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new bC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:NC.bind(null,r),t_:OC.bind(null,r),r_:VC.bind(null,r),H_:MC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),i0(r))}))),r.ma}function Zs(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new RC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:PC.bind(null,r),r_:zC.bind(null,r),ta:xC.bind(null,r),na:kC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Br,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Km{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Km(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),ro(r))return new lt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Hv{constructor(){this.ga=new oe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Fa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class jC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qC{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Gv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function Gv(){return new Hr((r=>IT(r)),dh)}async function HC(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new jC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Qm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function GC(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function FC(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function KC(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var um,Fv;(Fv=um||(um={})).Ma="default",Fv.Cache="cache";class QC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class o0{constructor(t){this.key=t}}class l0{constructor(t){this.key=t}}class YC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=CT(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const U=l.get(S),F=mh(this.query,A)?A:null,$=!!U&&this.mutatedKeys.has(U.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;U&&F?U.data.isEqual(F.data)?$!==et&&(a.track({type:3,doc:F}),Z=!0):this.su(U,F)||(a.track({type:2,doc:F}),Z=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!U&&F?(a.track({type:0,doc:F}),Z=!0):U&&!F&&(a.track({type:1,doc:U}),Z=!0,(y||_)&&(p=!0)),Z&&(F?(d=d.add(F),c=et?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(F,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Z})}};return et(F)-et($)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new l0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new o0(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class XC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hr((p=>IT(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ht.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(r,t,i=!0){const a=m0(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await u0(a,t,i,!0),l}async function WC(r,t){const i=m0(r);await u0(i,t,!0,!1)}async function u0(r,t,i,a){const l=await pC(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await t2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&e0(r.remoteStore,l),p}async function t2(r,t,i,a,l){r.pu=(A,U,F)=>(async function(et,Z,ft,_t){let it=Z.view.ru(ft);it.Cs&&(it=await xv(et.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,it))));const Pt=_t&&_t.targetChanges.get(Z.targetId),kt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(it,et.isPrimaryClient,Pt,kt);return Qv(et,Z.targetId,Vt.au),Vt.snapshot})(r,A,U,F);const c=await xv(r.localStore,t,!0),d=new YC(t,c.Qs),p=d.ru(c.documents),y=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Qv(r,i,_.au);const S=new XC(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function e2(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(so)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function n2(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function i2(r,t,i){const a=c2(r);try{const l=await(function(d,p){const y=Et(d),_=ne.now(),S=p.reduce(((F,$)=>F.add($.key)),Ot());let A,U;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=ts(),et=Ot();return y.Ns.getEntries(F,S).next((Z=>{$=Z,$.forEach(((ft,_t)=>{_t.isValidDocument()||(et=et.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((Z=>{A=Z;const ft=[];for(const _t of p){const it=gI(_t,A.get(_t.key).overlayedDocument);it!=null&&ft.push(new Gr(_t.key,it,ET(it.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ft,p)})).next((Z=>{U=Z;const ft=Z.applyToLocalDocumentSet(A,et);return y.documentOverlayCache.saveOverlays(F,Z.batchId,ft)}))})).then((()=>({batchId:U.batchId,changes:NT(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Ql(a,l.changes),await Eh(a.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");i.reject(c)}}async function c0(r,t){const i=Et(r);try{const a=await dC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Ql(i,a,t)}catch(a){await so(a)}}function Kv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,A)=>{for(const U of A.Sa)U.va(p)&&(_=!0)})),_&&Ym(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function s2(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,yt.min()));const p=Ot().add(c),y=new yh(yt.min(),new Map,new oe(Nt),d,p);await c0(a,y),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(so)}async function r2(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await fC(i.localStore,t);f0(i,a,null),h0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(i,l)}catch(l){await so(l)}}async function a2(r,t,i){const a=Et(r);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ht(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);f0(a,t,i),h0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ql(a,l)}catch(l){await so(l)}}function h0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function f0(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||d0(r,a)}))}function d0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function Qv(r,t,i){for(const a of i)a instanceof o0?(r.Ru.addReference(a.key,t),o2(r,a)):a instanceof l0?(st(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||d0(r,a.key)):gt(19791,{wu:a})}function o2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Xm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new ZC(i)),r.du=r.du.insert(i,a),e0(r.remoteStore,new Bs(Si(Vm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Ql(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Bm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=Et(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Y.forEach(_,(U=>Y.forEach(U.Es,(F=>S.persistence.referenceDelegate.addReference(A,U.targetId,F))).next((()=>Y.forEach(U.ds,(F=>S.persistence.referenceDelegate.removeReference(A,U.targetId,F)))))))))}catch(A){if(!ro(A))throw A;st(jm,"Failed to update sequence numbers: "+A)}for(const A of _){const U=A.targetId;if(!A.fromCache){const F=S.Ms.get(U),$=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(U,et)}}})(a.localStore,c))}async function l2(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){st(Xm,"User change. New user:",t.toKey());const a=await JT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new lt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(i,a.Ls)}}function u2(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function m0(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s2.bind(null,t),t.Pu.H_=FC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function c2(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new ZT(zm.mi,this.serializer)}Du(t){return new _C}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class h2 extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new QI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ZT((a=>eh.mi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qC})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=(function(c){return new AC(c)})(t.databaseInfo);return(function(c,d,p,y){return new IC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new DC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Kv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new vC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const A=new JC(l,c,d,p,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);st(Br,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class f2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Js="FirestoreClient";class d2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Js,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await JT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await m2(r);st(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>qv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>qv(t.remoteStore,l))),r._onlineComponents=t}async function m2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Js,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new ih)}}else st(Js,"Using default OfflineComponentProvider"),await zd(r,new h2(void 0));return r._offlineComponents}async function g0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Js,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(st(Js,"Using default OnlineComponentProvider"),await Yv(r,new hm))),r._onlineComponents}function g2(r){return g0(r).then((t=>t.syncEngine))}async function Xv(r){const t=await g0(r),i=t.eventManager;return i.onListen=$C.bind(null,t.syncEngine),i.onUnlisten=e2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,t.syncEngine),i}function p0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Zv=new Map;const y0="firestore.googleapis.com",Jv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y0,this.ssl=Jv}else this.host=t.host,this.ssl=t.ssl??Jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FI)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _w;switch(a.type){case"firstParty":return new Sw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(st("ComponentProvider","Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function p2(r,t,i,a={}){r=Ga(r,Th);const l=to(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(dE(`https://${p}`),mE("Firestore",!0)),c.host!==y0&&c.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Lr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Xe.MOCK_USER;else{_=CA(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(A)}r._authCredentials=new vw(new lT(_,S))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,xe._jsonSchema))return new xe(t,a||null,new ht(ee.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:we("string",xe._jsonSchemaVersion),referencePath:we("string")};class Fs extends Sh{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ht(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function Wv(r,t,...i){if(r=en(r),uT("collection","path",t),r instanceof Th){const a=ee.fromString(t,...i);return hv(a),new Fs(r,null,a)}{if(!(r instanceof xe||r instanceof Fs))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return hv(a),new Fs(r.firestore,null,a)}}function _0(r,t,...i){if(r=en(r),arguments.length===1&&(t=Rm.newId()),uT("doc","path",t),r instanceof Th){const a=ee.fromString(t,...i);return cv(a),new xe(r,null,new ht(a))}{if(!(r instanceof xe||r instanceof Fs))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return cv(a),new xe(r.firestore,r instanceof Fs?r.converter:null,new ht(a))}}const tE="AsyncQueue";class eE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const a=kd();a&&st(tE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;st(tE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",nE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function nE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function iE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ll extends Th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new eE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eE(t),this._firestoreClient=void 0,await t}}}function y2(r,t){const i=typeof r=="object"?r:_E(),a=typeof r=="string"?r:Yc,l=gm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wA("firestore");c&&p2(l,...c)}return l}function v0(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_2(r),r._firestoreClient}function _2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new zw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new d2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:we("string",Ln._jsonSchemaVersion),bytes:we("string")};class Jm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class E0{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:we("string",Ri._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:we("string",wi._jsonSchemaVersion),vectorValues:we("object")};const v2=/^__.*__$/;class E2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}function T0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class $m{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $m({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(T0(this.Ac)&&v2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class T2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}Cc(t,i,a,l=!1){return new $m({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S2(r){const t=r._freezeSettings(),i=_h(r._databaseId);return new T2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function A2(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);R0("Data must be an object, but it was:",d,a);const p=A0(a,d);let y,_;if(c.merge)y=new Xn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const U=b2(t,A,i);if(!d.contains(U))throw new lt(X.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);w2(S,U)||S.push(U)}y=new Xn(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new E2(new Un(p),y,_)}function S0(r,t){if(b0(r=en(r)))return R0("Unsupported field value:",t,r),A0(r,t);if(r instanceof E0)return(function(a,l){if(!T0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=S0(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return uI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:qT(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[_T]:{stringValue:vT},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${wm(a)}`)})(r,t)}function A0(r,t){const i={};return fT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(r,((a,l)=>{const c=S0(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function b0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Ri||r instanceof Ln||r instanceof xe||r instanceof E0||r instanceof wi)}function R0(r,t,i){if(!b0(i)||!cT(i)){const a=wm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function b2(r,t,i){if((t=en(t))instanceof Jm)return t._internalPath;if(typeof t=="string")return w0(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const R2=new RegExp("[~\\*/\\[\\]]");function w0(r,t,i){if(t.search(R2)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Jm(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new lt(X.INVALID_ARGUMENT,p+r+y)}function w2(r,t){return r.some((i=>i.isEqual(t)))}class I0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(C0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I2 extends I0{data(){return super.data()}}function C0(r,t){return typeof t=="string"?w0(r,t):t instanceof Jm?t._internalPath:t._delegate._internalPath}function C2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D2{convertValue(t,i="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return qr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Ri(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=Qs(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ht(YT(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function N2(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends I0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(C0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:we("string",Ur._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class kc extends Ur{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:O2(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:we("string",Ka._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class D0 extends D2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function V2(r){return N0(Ga(r.firestore,Ll),[new Um(r._key,Ai.none())])}function M2(r,t){const i=Ga(r.firestore,Ll),a=_0(r),l=N2(r.converter,t);return N0(i,[A2(S2(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ai.exists(!1))]).then((()=>a))}function U2(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||iE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(iE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof xe)d=Ga(r.firestore,Ll),p=Vm(r._key.path),c={next:y=>{t[a]&&t[a](L2(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ga(r,Sh);d=Ga(y.firestore,Ll),p=y._query;const _=new D0(d);c={next:S=>{t[a]&&t[a](new Ka(d,_,y,S))},error:t[a+1],complete:t[a+2]},C2(r._query)}return(function(_,S,A,U){const F=new f2(U),$=new QC(S,F,A);return _.asyncQueue.enqueueAndForget((async()=>HC(await Xv(_),$))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>GC(await Xv(_),$)))}})(v0(d),p,l,c)}function N0(r,t){return(function(a,l){const c=new Mr;return a.asyncQueue.enqueueAndForget((async()=>i2(await g2(a),l,c))),c.promise})(v0(r),t)}function L2(r,t,i){const a=i.docs.get(t._key),l=new D0(r);return new Ur(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){io=l})(eo),Qa(new Pr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ll(new Ew(a.getProvider("auth-internal")),new Aw(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Hs(av,ov,t),Hs(av,ov,"esm2020")})();const P2={apiKey:"AIzaSyD28nuO2-Nfdpr7_Ax21WsyZl5W_o13tk4",authDomain:"saasovellus-409ed.firebaseapp.com",projectId:"saasovellus-409ed",storageBucket:"saasovellus-409ed.firebasestorage.app",messagingSenderId:"69169845550",appId:"1:69169845550:web:0888f7370a07432f4696bf",measurementId:"G-MRZS9052HP"},O0=yE(P2),Pl=mw(O0),Bd=y2(O0);function x2(){const[r,t]=Re.useState(""),[i,a]=Re.useState(""),[l,c]=Re.useState(!1),[d,p]=Re.useState(null),[y,_]=Re.useState(!1),S=async A=>{A.preventDefault(),p(null),_(!0);try{l?await $b(Pl,r,i):await Wb(Pl,r,i)}catch(U){p(U.message??"Jotain meni vikaan")}finally{_(!1)}};return nt.jsx("div",{className:"page page--center",children:nt.jsxs("div",{className:"card",children:[nt.jsx("h1",{className:"card-title",children:l?"Luo tunnus":"Kirjaudu sisn"}),nt.jsxs("form",{onSubmit:S,children:[nt.jsxs("div",{style:{marginBottom:"0.75rem"},children:[nt.jsx("label",{htmlFor:"email",children:"Shkposti"}),nt.jsx("input",{id:"email",type:"email",required:!0,className:"input",autoComplete:"email","aria-label":"Shkpostiosoite",value:r,onChange:A=>t(A.target.value)})]}),nt.jsxs("div",{style:{marginBottom:"0.75rem"},children:[nt.jsx("label",{htmlFor:"password",children:"Salasana"}),nt.jsx("input",{id:"password",type:"password",required:!0,className:"input",autoComplete:l?"new-password":"current-password","aria-label":"Salasana",value:i,onChange:A=>a(A.target.value)})]}),d&&nt.jsx("p",{style:{color:"red"},children:d}),nt.jsx("button",{type:"submit",className:"button",disabled:y,children:y?"Hetki...":l?"Rekisteridy":"Kirjaudu sisn"})]}),nt.jsx("p",{className:"card-footer-text",children:nt.jsx("button",{type:"button",className:"button button--secondary",onClick:()=>c(A=>!A),children:l?"Onko sinulla jo tunnus? Kirjaudu sisn":"Ei tunnusta? Luo uusi"})})]})})}const sE="4539ca60810724b12e950c966ea11116";function rE(r){if(r==null)return"";const t=["N","NE","E","SE","S","SW","W","NW"],i=Math.round(r/45)%8;return t[i]}function aE({deg:r}){return nt.jsx("span",{"aria-hidden":"true",style:{display:"inline-block",transform:`rotate(${r??0}deg)`,marginRight:6},title:r!=null?`${r}`:"",children:""})}function k2({cityName:r,onRemove:t}){const[i,a]=Re.useState(null),[l,c]=Re.useState(null),[d,p]=Re.useState(!0),[y,_]=Re.useState(!1),[S,A]=Re.useState(null),[U,F]=Re.useState(!1),[$,et]=Re.useState(null);Re.useEffect(()=>{p(!0),c(null),_(!1),A(null),et(null),fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(r)}&units=metric&lang=fi&appid=${sE}`).then(async it=>{if(!it.ok)throw it.status===404?new Error("Kaupunkia ei lytynyt  tarkista kirjoitusasu."):it.status===401?new Error("API-avain ei ole voimassa (401 Unauthorized)."):new Error(`Virhe palvelimella (${it.status}).`);return it.json()}).then(it=>{a(it)}).catch(it=>{console.error("Virhe sdatan haussa:",it),c(it.message||"Stietojen hakeminen eponnistui.")}).finally(()=>{p(!1)})},[r]);const Z=async()=>{if(y){_(!1);return}if(_(!0),S)return;if(!i?.coord){et("Koordinaatteja ei lytynyt  listietoja ei voi hakea.");return}F(!0),et(null);const{lat:it,lon:Pt}=i.coord;try{const kt=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${it}&lon=${Pt}&units=metric&lang=fi&appid=${sE}`);if(!kt.ok)throw new Error(`Listietojen haku eponnistui (${kt.status}).`);const Vt=await kt.json();A(Vt)}catch(kt){console.error(kt),et(kt?.message??"Listietojen haku eponnistui.")}finally{F(!1)}};if(d)return nt.jsx("div",{className:"weather-card",children:nt.jsx("p",{children:"Ladataan stietoja..."})});if(l)return nt.jsxs("div",{className:"weather-card",children:[nt.jsxs("div",{className:"weather-card-header",children:[nt.jsx("h2",{className:"weather-city",children:r}),nt.jsx("button",{className:"weather-remove",onClick:t,children:"Poista"})]}),nt.jsx("p",{style:{color:"red",marginTop:"0.5rem"},children:l})]});const ft=i?.weather?.[0]?.icon,_t=i?.weather?.[0]?.description??"";return nt.jsxs("div",{className:"weather-card",children:[nt.jsxs("div",{className:"weather-card-header",children:[nt.jsx("h2",{className:"weather-city",children:r}),nt.jsx("button",{className:"weather-remove",onClick:t,children:"Poista"})]}),i&&nt.jsxs(nt.Fragment,{children:[nt.jsxs("div",{className:"weather-main",children:[nt.jsxs("div",{children:[nt.jsxs("p",{className:"weather-temp",children:[i.main.temp.toFixed(1),"C"]}),nt.jsxs("p",{className:"weather-text",children:["Tuntuu kuin ",i.main.feels_like.toFixed(1),"C"]}),nt.jsx("p",{className:"weather-text",style:{textTransform:"capitalize"},children:_t})]}),ft&&nt.jsx("button",{type:"button",onClick:Z,className:"weather-icon-button","aria-expanded":y,"aria-label":y?`Piilota tarkemmat stiedot: ${r}`:`Nyt tarkemmat stiedot: ${r}`,children:nt.jsx("img",{className:"weather-icon",src:`https://openweathermap.org/img/wn/${ft}@2x.png`,alt:""})})]}),y&&nt.jsxs("div",{className:"weather-details",children:[U&&nt.jsx("p",{children:"Ladataan tarkempia tietoja..."}),$&&nt.jsx("p",{style:{color:"red"},children:$}),nt.jsxs("div",{className:"weather-details-grid",children:[nt.jsxs("div",{children:[nt.jsx("strong",{children:"Kosteus:"})," ",i.main.humidity,"%"]}),nt.jsxs("div",{children:[nt.jsx("strong",{children:"Paine:"})," ",i.main.pressure," hPa"]}),nt.jsxs("div",{children:[nt.jsx("strong",{children:"Tuuli:"})," ",nt.jsx(aE,{deg:i.wind.deg}),i.wind.speed," m/s (",rE(i.wind.deg),")"]})]}),S?.list?.length?nt.jsxs("div",{style:{marginTop:12},children:[nt.jsx("strong",{children:"Ennuste (seuraavat 6 ptk, 3h vlein):"}),nt.jsx("ul",{children:S.list.slice(0,6).map(it=>{const Pt=it.weather?.[0]?.description??"";return nt.jsxs("li",{style:{textTransform:"capitalize"},children:[new Date(it.dt*1e3).toLocaleTimeString("fi-FI",{hour:"2-digit",minute:"2-digit"}),"  ",it.main.temp.toFixed(1),"C",it.pop!=null?`, sateen tn. ${Math.round(it.pop*100)}%`:"",Pt?`, ${Pt}`:"",it.wind?.speed!=null?nt.jsxs(nt.Fragment,{children:[", tuuli ",nt.jsx(aE,{deg:it.wind.deg}),it.wind.speed," m/s (",rE(it.wind.deg),")"]}):null]},it.dt)})})]}):null]})]})]})}function z2(){const r=Pl.currentUser,[t,i]=Re.useState([]),[a,l]=Re.useState(""),[c,d]=Re.useState(!0);Re.useEffect(()=>{if(!r)return;const _=Wv(Bd,"users",r.uid,"cities"),S=U2(_,A=>{const U=A.docs.map(F=>({id:F.id,name:F.data().name}));i(U),d(!1)});return()=>S()},[r]);const p=async _=>{if(_.preventDefault(),!r||!a.trim())return;const S=Wv(Bd,"users",r.uid,"cities");await M2(S,{name:a.trim()}),l("")},y=async _=>{if(!r)return;const S=_0(Bd,"users",r.uid,"cities",_);await V2(S)};return r?nt.jsxs("div",{className:"page",children:[nt.jsxs("header",{className:"header",children:[nt.jsxs("div",{children:[nt.jsx("h1",{className:"header-title",children:"S  suosikkikaupungit"}),nt.jsxs("p",{className:"header-subtitle",children:["Kirjautunut: ",r.email]})]}),nt.jsx("button",{className:"button button--secondary",onClick:()=>iR(Pl),children:"Kirjaudu ulos"})]}),nt.jsxs("main",{className:"main",children:[nt.jsxs("div",{style:{backgroundColor:"#f3f4f6",border:"1px solid #ddd",borderRadius:"12px",padding:"1rem 1.25rem",marginBottom:"1.5rem",maxWidth:"400px",fontSize:"1.05rem",lineHeight:1.5,color:"#333",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:["Lis omia suosikkikaupunkejasi alla olevaan kenttn nhdksesi niiden ajantasaisen sn. Kirjoita kaupungin nimi ja paina ",nt.jsx("strong",{children:"Lis suosikiksi"}),". Laajemmat stiedot aukeavat ja sulkeutuvat skuvaketta painamalla."]}),nt.jsxs("form",{onSubmit:p,className:"city-form",children:[nt.jsx("input",{type:"text",placeholder:"Kaupunki (esim. Helsinki)",className:"input",value:a,onChange:_=>l(_.target.value)}),nt.jsx("button",{type:"submit",className:"button",children:"Lis suosikiksi"})]}),c?nt.jsx("p",{children:"Ladataan.."}):nt.jsx("div",{className:"card-grid",children:t.map(_=>nt.jsx(k2,{cityName:_.name,onRemove:()=>y(_.id)},_.id))})]})]}):nt.jsx("p",{children:"Ei kyttj"})}function B2(){const[r,t]=Re.useState(void 0);return Re.useEffect(()=>{const i=nR(Pl,a=>t(a));return()=>i()},[]),r===void 0?nt.jsx("div",{className:"page page--center",children:nt.jsx("p",{children:"Ladataan..."})}):r?nt.jsx(z2,{}):nt.jsx(x2,{})}yA.createRoot(document.getElementById("root")).render(nt.jsx(Re.StrictMode,{children:nt.jsx(B2,{})}));
